function resizeInput(){var e=$(this).val().length-3;e<3&&(e=3),$(this).attr("size",e)}function display_paths_by_koratag(e){if(0==e.length)$(".lernpfad").closest(".progline").show();else{$(".lernpfad").closest(".progline").hide();var t=!1;$(".lernpfad").each(function(){var i=String($(this).data("tags"));void 0!==i&&i.indexOf(e)>-1&&(t=!0,$(this).closest(".progline").show())}),t||$(".lernpfad").closest(".progline").show()}}function transform_latex_in_content(e){var t=e.html();-1==t.indexOf("$$")&&-1==t.indexOf("\\(")||load_katex_script()}function highlight_equation(e){var t=window.location.hash,i=/g\d+/;if(t.match(i)){if(0==$(t).length)return;$(t).parent().addClass("equahighlight"),$("html,body").animate({scrollTop:$(t).offset().top-200},250),e&&$(t).attr("id",t.substring(1)+"-atemp")}}function comparer(e){return function(t,i){var n=getCellValue(t,e),o=getCellValue(i,e);return $.isNumeric(n)&&$.isNumeric(o)?n-o:n.localeCompare(o)}}function getCellValue(e,t){var i=$(e).children("td").eq(t).text();return i=i.trim(),/\d/.test(i.charAt(0))?i.replace(/[^\d.]/g,""):$(e).children("td").eq(t).text()}function displayLessonPrograms(e){$("#search-input").val(""),$("#noresults").hide(),setTimeout(function(){$(window).trigger("scroll")},100),$(".vitem, .pitem").hide(),"all"==e||""==e?$(".vitem, .pitem").show():$("."+e).show()}function displayLessonVideos(e){$("#search-input").val(""),$("#noresults").hide(),setTimeout(function(){$(window).trigger("scroll")},100),$(".vitem, .pitem").hide(),"all"==e||""==e?$(".vitem, .pitem").show():$("."+e).show()}function load_katex_script(){$("head").append('<link rel="stylesheet" href="/js/katex/0.12.0/katex.min.css" crossorigin="anonymous">');var e="/js/katex/0.12.0/katex.auto.min.js";$.getCachedScript(e,function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1}],macros:{":":"{~\\char`:~}",",":"{\\char`,}","·":"{~\\char`·~}"},fleqn:!0,errorCallback:function(e){$.ajax({type:"POST",url:"https://www.mathelounge.de/latextracker",data:{ajax:window.location.href}})}}),console.log("Katex rendered")}),console.log("katex loaded"),latexparsed=!0}function user_hint_use_chrome_print(){var e="Zum Drucken den Chrome-Browser verwenden und als PDF speichern. Diese PDF dann aufrufen und ausdrucken.";$.alertable.alert(e).then(function(){return $(".alertable, .alertable-overlay").hide(),window.print(),!1})}function load_qrcodes_for_printing(){let e="/js/jquery/qrcode/jquery-qrcode-0.18.0.min.js";$.getCachedScript(e,function(){console.log("qrcode loaded");let e={text:"",render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:65,fill:"#000",background:null,radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5};$(".qrcodeimage").each(function(){if(!$(this).hasClass("qr-rendered")){let t=$(this).data("url");e.text=t,console.log("URL: "+e.text),$(this).qrcode(e),$(this).addClass("qr-rendered")}})})}function is_touch_device(){return"ontouchstart"in window||"onmsgesturechange"in window}function activate_sidebar_quicksearch(){$("#wikiquicksearch").quicksearch(".siblinglist li a",{delay:100,stripeRows:["odd","even"],onBefore:function(){wikisearch_new=$("#wikiquicksearch").val().trim(),wikisearch_new.length>0&&wikisearch_former!=wikisearch_new&&$(".siblinglist, .siblinglist li, .siblinglist li a").show()},onAfter:function(){wikisearch_new.length>0&&wikisearch_former!=wikisearch_new&&($(".siblinglist").each(function(){0==$(this).find("li a:visible").length&&$(this).hide()}),$(".siblinglist:visible").each(function(){$(this).find("a:hidden").length>0&&$(this).find("li a:hidden").each(function(){$(this).parent().hide()})}),wikisearch_former=wikisearch_new)}})}function html_out(e){return e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),e}function copyTextToClipboard(e){var t=$("<input>");$("body").append(t),t.val(e).select(),document.execCommand("copy"),t.remove()}function dospeak(e,t){if("speechSynthesis"in window&&"SpeechSynthesisUtterance"in window){var i=new SpeechSynthesisUtterance;i.lang="de-DE",i.voiceURI="native",i.volume=1,i.rate=1,i.pitch=.5,speechinit=!0,i.text=e,i.onstart=function(e){},i.onend=function(e){stop_speaking(),t&&t()},i.onerror=function(e){t&&t(e)},speechSynthesis.speak(i)}else $.alertable.alert("⚠️ Die Sprachsynthese wird von Ihrem Browser nicht unterstützt.")}function stop_speaking(){isspeaking=!1,speechSynthesis.cancel(),$(".readit").removeClass("makegray"),$(".readit").removeClass("makeblue"),$(".readit").addClass("makegray"),$(".readit").text("Vorlesen")}function setCookie(e,t,i){if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var o="; expires="+n.toGMTString()}else o="";document.cookie=e+"="+t+o+"; path=/;"}function getCookie(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}function getUrlVars(){for(var e,t=[],i=window.location.href.slice(window.location.href.indexOf("?")+1).split("#"),n=0;n<i.length;n++)e=i[n].split("="),t.push(e[0]),t[e[0]]=e[1];return t}function getURLParameter(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",i=new RegExp(t),n=i.exec(window.location.href);return null==n?null:n[1]}function getUrlParameters(){var e={};window.location.href.replace(/[?&]+([^=&]+)=?([^&]*)/gi,function(t,i,n){e[i]=n});return e}function superify(e){if(!e)return e;for(var t,i=[],n=/^[a-z0-9]+$/i,o=/^[.,]+$/i,a=0;a<e.length;){var s=e[a++],r=e[a];if("^"===s&&r&&((t="("===r)||r.match(n))){var l=r;for(i.push("<sup>"),t||i.push(l);a++<e.length&&(s=e[a],t||!s.match(o)||e[a+1].match(n))&&(!t||")"!==s)&&(t||s.match(n)||s.match(o));)i.push(s);i.push("</sup>"),t||i.push(s),a++}else i.push(s)}return i.join("")}function CurrencyFormatted(e){var t=parseFloat(e);isNaN(t)&&(t=0);var i="";return t<0&&(i="-"),t=Math.abs(t),t=parseInt(100*(t+.005)),t/=100,s=new String(t),s.indexOf(".")<0&&(s+=".00"),s.indexOf(".")==s.length-2&&(s+="0"),s=i+s,s}function getSelectionHtml2(){var e="";if("Range"==window.getSelection().type){var t=window.getSelection().getRangeAt(0),i=t.cloneContents();$("body").append('<span id="selection_html_placeholder"></span>');var n=document.getElementById("selection_html_placeholder");n.appendChild(i),e=n.innerHTML,$("#selection_html_placeholder").remove()}return e}var typingTimer,MR_DOMAIN_URL=location.protocol+"//"+location.host+"/",wikisearch_new="",wikisearch_former="";$(document).ready(function(){var e=$(window).width()<640,t=$(".iscustomer").length>0,i=$(".isloggedin").length>0,n=$(".isadmin").length>0,o=$(window).width()<480,a=0;$("body").attr("id")&&(a=parseInt($("body").attr("id").replace("pageid-",""))),n&&$("body").keypress(function(e){$(document.activeElement).is("body")&&"e"==e.key&&document.getElementById("docedit").click()}),$(".dropdown-group .toggle").on("click",function(e){e.preventDefault(),$(this).closest(".dropdown-group").toggleClass("dropdown-open")});var s=$(".hamburger"),r=$("#menu"),l=$("#usermenu");s.on("click",function(e){e.preventDefault(),l.hasClass("dropdown-open")&&l.toggleClass("dropdown-open"),r.toggleClass("dropdown-open"),s.toggleClass("is-active")}),r.find("#nav ul").closest("li").addClass("parent"),r.on("click","li.parent > a",function(e){$(window).width()<=840&&(e.preventDefault(),$(this).closest("li").toggleClass("parent-open"),$(this).siblings("ul").slideToggle("fast"))}),$(".ws-dropbtn").click(function(){$(".ws-dropdown-content").toggle()}),$(".ab-button-more").click(function(){$(this).find(".ws-dropdown-content").toggle()}),e||($(".tooltip").tipsy({gravity:"s",fade:!1,offset:5,html:!0}),$(".tooltipS").tipsy({gravity:"s",fade:!1,offset:5,html:!0}),$(".tooltipN").tipsy({gravity:"n",fade:!1,offset:5,html:!0}),$(".tooltipW").tipsy({gravity:"w",fade:!1,offset:5,html:!0}),$(".tooltipE").tipsy({gravity:"e",fade:!1,offset:5,html:!0}),$("#breadcrumbs a").tipsy({gravity:"s",fade:!1})),$(document).keyup(function(e){27==e.keyCode&&($("#lightbox-popup").is(":visible")&&$("#lightbox-popup").fadeOut("fast"),S&&stop_speaking())}),$(document).bind("keyup keydown",function(e){if(e.ctrlKey&&80==e.keyCode&&$(".ab-button-print").length>0)return load_qrcodes_for_printing(),user_hint_use_chrome_print(),!1}),$(".highimage").click(function(){$("#lightbox-popup").fadeIn("slow"),$("#lightbox-img").attr("src",$(this).attr("src")),$("#lightbox-center").css("margin-top",($(window).height()-$("#lightbox-center").height())/2+"px")}),$("body").on("click","#lightbox-popup, #lightbox-center, #lightbox-img",function(e){"lightbox-popup"!=e.target.id&&"lightbox-center"!=e.target.id||$("#lightbox-popup").fadeOut("slow")}),$(window).scroll(function(){var e=500;$(this).scrollTop()>=400?$("#return-to-top").fadeIn(e):$("#return-to-top").fadeOut(e)}),$("#return-to-top").click(function(e){$("body,html").animate({scrollTop:0},500)});var c=i?700:1e4;if($(".videopop, .progpop").magnificPopup({disableOn:function(){return!($(window).width()<c||$(window).height()<640)},type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,gallery:{enabled:!1}}),$("#videoliste").length>0&&!o){c=i?null:700;$(".vpopup").magnificPopup({disableOn:function(){return!($(window).width()<c||$(window).height()<640)},type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,gallery:{enabled:!o}})}var h=!1,d=!1,p=!1;$("#main-content").each(function(){if(htmlTxt=$(this).html(),-1==htmlTxt.indexOf("$$")&&-1==htmlTxt.indexOf("\\(")||(h=!0),-1!=htmlTxt.indexOf("~draw~")){var e=htmlTxt.indexOf("~draw~"),t=htmlTxt.indexOf("~draw~",e+3);-1!=e&&-1!=t&&(p=!0)}if(-1!=htmlTxt.indexOf("~plot~")){e=htmlTxt.indexOf("~plot~"),t=htmlTxt.indexOf("~plot~",e+3);-1!=e&&-1!=t&&(d=!0)}});var u=MR_DOMAIN_URL+"js/fooplot/fooplotembed.min.js?v=0.0.4",f=MR_DOMAIN_URL+"js/easeljs/easeljs-0.7.0.min.js",g=MR_DOMAIN_URL+"/js/rechner/geozeichner/geozeichnerembed.min.js?v=0.0.2";if(h&&load_katex_script(),d&&$.getCachedScript(u,function(){console.log("graph plotter loaded")}),p&&$.getCachedScript(f,function(){$.getCachedScript(g,function(){console.log("geozeichner loaded")})}),$("#quicksearchform").keypress(function(e){if(13==e.which)return!1}),$(".wipage").length>0&&$("#main-content h2, #main-content h3").each(function(){var e=$(this).text(),t=/\((\w+)\/(\w+)\)/g;if(t.test(e)){t=/\((\w+)\/(\w+)\)/g;var i=t.exec(e),n=i[0],o="\\frac{"+i[1]+"}{"+i[2]+"}";e=e.replace(n,"\\( "+o+" \\)"),$(this).text(e)}}),$(".testpage").length>0&&$(".hastimestamp").length>0&&($(".resultr").each(function(){let e=$(this).data("id"),t=$(".checkresult#"+e);if($(this).hasClass("isinput"))t.val($(this).data("value")),t.addClass($(this).data("css")),$(this).hasClass("showsolution")&&(t.attr("title",t.data("check")),t.tipsy({trigger:"manual",fade:!1,gravity:"w"}),t.tipsy("show"));else if($(this).hasClass("isbuttonsupdown"))t.text($(this).data("value")),t.addClass($(this).data("css")),$(this).hasClass("showsolution")&&(t.attr("title",t.data("check")),t.tipsy({trigger:"manual",fade:!1,gravity:"w"}),t.tipsy("show"),t.prevAll("canvas:first").addClass("bgwrong"));else if($(this).hasClass("isselect"))t.val($(this).data("value")),t.addClass($(this).data("css")),$(this).hasClass("showsolution")&&(t.attr("title",t.find("option[value='"+t.data("check")+"']").text()),t.tipsy({trigger:"manual",fade:!1,gravity:"w"}),t.tipsy("show"));else if($(this).hasClass("ismultiple")){let t=$($("#"+e+"-"+$(this).data("value")));t.click(),t.parent().addClass($(this).data("css")),t.closest(".exercise-radioblock").find(".solution-block").addClass($(this).data("css"))}}),$("input").blur(),setTimeout(function(){$(".exercise-radioblock").show(),$(".rb-active").removeClass("rb-active")},100),$(".solution-block").show(),$("#checkvalues").hide(),$(".checkprog-wrap").hide()),$(".main-page-videolist").length>0){var m=!1;$("#search-input").quicksearch("ul#videoliste li",{noResults:"#noresults",stripeRows:["odd","even"],loader:"#loading",onBefore:function(){$("ul#videoliste li").unhighlight()},onAfter:function(){""!=$("#search-input").val()&&$("#search-input").val().length>1&&$("ul#videoliste li:visible").highlight($("#search-input").val())}}),$("#search-input").focus(function(){m&&""==$(this).val()&&($(".vitem, .pitem").show(),$(".menu").removeClass("menu_active"),$("#all").addClass("menu_active"),$("#noresults").hide(),$("#graderselect, #topicsselect").prop("selectedIndex",0).selectric("refresh"))}),$("#search-input").bind("keyup change",function(e){m=!0;var t=$("input#search-input").val();$("#detailsearchbtn").attr("href","/suche/?s="+t),$("#searchterm").text(decodeURIComponent(t)),0==t.length?$("#detailsearchbtn").hide():$("#detailsearchbtn").show()});var v=getURLParameter("s");void 0!==v&&null!=v&&"null"!=v&&""!=v?(v=decodeURI(v),v=v.replace(/\+/g," "),$("#search-input").val(v),$("#search-input").trigger("keyup"),$("#search-input").blur()):v="";var w=getURLParameter("id");if(void 0!==w&&null!=w&&"null"!=w&&""!=w){var b=parseInt(w);$("#videoliste li").hide(),$("#search-input").blur(),$("#videoliste li#li_"+b).show()}else v="";var y=[];$("#topicsselect option").each(function(){y.push($(this).val())}),$(window).hashchange(function(){if(crtHash=location.hash,null!=crtHash&&""!=crtHash){var e=crtHash.replace("#","").replace(".html","");e=e.replace(/[0-9]/g,"");var t=y.indexOf(e);$("#topicsselect").prop("selectedIndex",t).selectric("refresh"),displayLessonVideos(e)}}),$("#container>ul li .descr").each(function(){htmlTxt=$(this).html(),-1!=htmlTxt.indexOf("^")&&$(this).html(superify(htmlTxt))}),$("#graderselect").change(function(){$("#topicsselect").prop("selectedIndex",0).selectric("refresh"),gradelevel=$("#graderselect option:selected").val(),$(".grader").closest("li").hide(),$(".vitem").hide(),$('.grader:contains("'+gradelevel+'")').closest("li").show()}),$("#graderselect").selectric({openOnHover:!1,disableOnMobile:!0,nativeOnMobile:!0,onInit:function(){$(".selectric").attr("role","button"),$(".selectric").attr("tabindex","0")}}),$("#topicsselect").selectric({openOnHover:!1,disableOnMobile:!0,nativeOnMobile:!0,onInit:function(){$(".selectric").attr("role","button"),$(".selectric").attr("tabindex","0")}}),$("#topicsselect").change(function(){$("#graderselect").prop("selectedIndex",0).selectric("refresh"),topicToShow=$("#topicsselect option:selected").val(),window.location.hash=topicToShow,displayLessonVideos(topicToShow)});var k=$("input#search-input").val();$("#searchterm").text(decodeURIComponent(k)),0==k.length?$("#detailsearchbtn").hide():$("#detailsearchbtn").show(),setTimeout(function(){$(window).trigger("scroll")},100),$(window).hashchange(),$("#notfound").mouseover(function(){$("#notfound").attr("href","/suche?s="+$("#search-input").val())})}else if($(".main-page-proglist").length>0){c=t?700:null;$(".popupProg").magnificPopup({disableOn:c,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,gallery:{enabled:!o}}),$("#search-input").quicksearch("ul#programmliste li",{noResults:"#noresults",stripeRows:["odd","even"],loader:"#loading",onBefore:function(){$("ul#programmliste li").unhighlight()},onAfter:function(){""!=$("#search-input").val()&&$("#search-input").val().length>1&&$("ul#programmliste li:visible").highlight($("#search-input").val())}}),$("#search-input").focus(function(){""==$(this).val()&&($(".vitem, .pitem").show(),$(".menu").removeClass("menu_active"),$("#all").addClass("menu_active"),$("#noresults").hide(),$("#topicsselect").prop("selectedIndex",0).selectric("refresh"))}),$("form#searchform").keypress(function(e){if(13==e.which)return!1}),$("#search-input").bind("keyup change",function(e){m=!0}),setTimeout(function(){$(window).trigger("scroll")},100);v=getURLParameter("s");void 0!==v&&null!=v&&"null"!=v&&""!=v?(v=decodeURI(v),v=v.replace(/\+/g," "),$("#search-input").val(v),$("#search-input").trigger("keyup")):v="";var x=getURLParameter("id");if(void 0!==x&&null!=x&&"null"!=x&&""!=x){var C=parseInt(x);$("#programmliste li").hide(),$("#search-input").blur(),$("#programmliste li#li_"+C).show()}else v="";y=[];$("#topicsselect option").each(function(){y.push($(this).val())}),$(window).hashchange(function(){if(crtHash=location.hash,null!=crtHash&&""!=crtHash){var e=crtHash.replace("#","").replace(".html","");e=e.replace(/[0-9]/g,"");var t=y.indexOf(e);$("#topicsselect").prop("selectedIndex",t).selectric("refresh"),displayLessonPrograms(e)}}),$(window).hashchange(),$("#topicsselect").selectric({openOnHover:!1,disableOnMobile:!0,nativeOnMobile:!0,maxHeight:1e3,onInit:function(){$(".selectric").attr("role","button"),$(".selectric").attr("tabindex","0")}}),$("#topicsselect").change(function(){$("#graderselect").prop("selectedIndex",0).selectric("refresh"),topicToShow=$("#topicsselect option:selected").val(),window.location.hash=topicToShow,displayLessonPrograms(topicToShow)})}$(".tablesort th, .sorttable th").click(function(e){if(e.target==this){var t=$(this).parents("table").eq(0),i=t.find("tr:gt(0)").toArray().sort(comparer($(this).index()));this.asc=!this.asc,this.asc||(i=i.reverse());for(var n=0;n<i.length;n++)t.append(i[n])}});var T=getURLParameter("tadd");void 0!==T&&null!=T&&"null"!=T&&""!=T&&$("h1.post-title a").text(T+": "+$("h1.post-title a").text()),$(window).on("hashchange",function(){$(".latex").removeClass("equahighlight"),highlight_equation(!1)}),highlight_equation(!0),$("footer").append('<div id="lightbox-popup"> <div id="lightbox-center"> <img id="lightbox-img" alt="Lightbox" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="> </div> </div>'),$('.wipage a[href*="#"]:not([href="#"])').click(function(){var e=-100;if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html, body").animate({scrollTop:t.offset().top+e},500),!1}});var _,S=!1;if($(".readit").click(function(e){if(S=!S,$(this).removeClass("makegray"),$(this).removeClass("makeblue"),S?($(this).addClass("makeblue"),$(this).text("Stoppen?")):($(this).addClass("makegray"),$(this).text("Vorlesen")),S){var t=$(".wikipage").clone(!0);t.find(".toc-wrap, .article-metas, .wikiprogress-wrap, .reading-wrap, .mediabox-wrap, .MathJax_Preview, .MathJax, .rechnerlink-wrap, .article-metas-wrap, .morematerial, .adholder, .popover, .dontread, style, script").remove(),t.find("*[data-read]").each(function(){$(this).text($(this).data("read"))}),t.find("h1, h2, h3, h4").each(function(){$(this).html("Kapitel: "+$(this).html()+".")}),readtext=t.text(),readtext=readtext.replace(/(\r\n|\n|\r)/gm," "),readtext=readtext.replace(/„/gm," "),readtext=readtext.replace(/“/gm," "),readtext=readtext.replace(/\: /gm,". "),readtext="Der Artikel heißt: "+$("h1.post-title").text()+"\n Los geht es: \n"+readtext+"\n ENDE",readtext=readtext.replace(/ \< /g," kleiner "),readtext=readtext.replace(/ \> /g," größer "),readtext=readtext.replace(/·/g," mal "),readtext=readtext.replace(/(V|v)gl. /g,"vergleiche "),readtext=readtext.replace(/sh. /g,"siehe "),console.log("*** READING ***"),console.log(readtext),dospeak(readtext,null)}else speechSynthesis.cancel()}),$(".readchunk").click(function(){dospeak($(this).data("read"),null)}),$(".wikipage").length>0&&$(".wikipage h2, .wikipage h3, .wikipage h4, .wikipage h5, .assrec h3, .assrec h4").each(function(){var e=$(this).attr("id");e&&$(this).append('<a class="hdlink tooltip" title="Link zu dieser Stelle" href="#'+e+'"><i class="fa fa-link heading-link" aria-hidden="true"></i></a>')}),$(".ab-button-share").click(function(e){e.preventDefault();var t=$(this).attr("href");return $("#lightbox-popup").fadeIn("slow"),$("#lightbox-center").html('<input type="text" class="linkshare" value="'+t+'">'),$("#lightbox-center .linkshare").select(),$("#lightbox-center").css("margin-top",($(window).height()-$("#lightbox-center").height())/2+"px"),!1}),$(".ab-button-print").click(function(e){e.preventDefault(),load_qrcodes_for_printing(),user_hint_use_chrome_print()}),window.onbeforeprint=function(){load_qrcodes_for_printing()},($(".worksheetpage").length>0||$(".qrcodeimage.qrshow").length>0)&&load_qrcodes_for_printing(),$(".solution-block a").attr("target","_blank"),$(".popitlocal").each(function(){var e=o?270:300;void 0!==$(this).data("width")&&(e=$(this).data("width")),$(this).webuiPopover({animation:"pop",arrow:!o,multi:!1,placement:"auto",style:"inverse",trigger:"hover",width:e,onShow:function(e,t){let i=t.offset().top-$(window).scrollTop(),n=$(window).height(),o=i/n;this.placement=o<.5?"bottom":"top"}})}),$(".popit").each(function(){var e=o?270:300;void 0!==$(this).data("width")&&(e=$(this).data("width")),$(this).webuiPopover({type:"async",url:"/do/popover?id="+$(this).data("pop"),animation:"pop",arrow:!o,multi:!1,placement:"auto",style:"inverse",trigger:"hover",width:e,onShow:function(e,t){recentpop=e,recentpop.attr("id","recentpop-"+Math.floor(1e5*Math.random()));let i=t.offset().top-$(window).scrollTop(),n=$(window).height(),o=i/n;this.placement=o<.5?"auto-bottom":"auto-top"},async:{success:function(e,t){transform_latex_in_content(recentpop)}}})}),null!=navigator.userAgent.match(/i(Pad|Phone|Pod)/i)&&$("article h1, article h2, article h3, article p, article td, article span, article li").each(function(){if($(this).html().indexOf(" ")>-1){var e=$(this).html().replace(/\ /g,"&thinsp;");$(this).html(e)}}),$("article mark").each(function(){if($(this).html().indexOf(" ")>-1){var e=$(this).html().replace(/\ /g,'<em style="font-size:7px;vertical-align:top;"> </em>');$(this).html(e)}}),$(".siblinglist-wrap.wikinav").length>0||$(".siblinglist-wrap.sheetnav").length>0||$(".siblinglist-wrap.checknav").length>0){$("body").on("click",".siblinglist li.topicname",function(){var e=$(this),t=e.hasClass("topicopened");t?(e.parent().children().not(".topicname").hide(),e.removeClass("topicopened")):(e.parent().children().not(".topicname").show(),e.parent().children().not(".topicname").find("a").show(),e.addClass("topicopened"))}),$("body").on("input","#wikiquicksearch",function(){wikisearch_new=$(this).val().trim(),0==wikisearch_new.length&&$(".siblinglist").show()}),activate_sidebar_quicksearch(),$('.siblinglist li[data-id="'+a+'"]').addClass("selected"),$('.siblinglist li[data-id="'+a+'"]').parent().find(".topicname").click(),$(".listheading.sidebar-empty #wikiquicksearch").click(function(){var e=$(this),t=$(this).closest(".sidebar-empty").data("url");$(this).closest(".siblinglist-wrap.wikinav").load(t,function(t,i,n){"success"==i&&(console.log("Wiki Sidebar content loaded"),e.closest(".listheading").removeClass(".sidebar-empty"),$('.siblinglist li[data-id="'+a+'"]').addClass("selected"),$('.siblinglist li[data-id="'+a+'"]').parent().find(".topicname").click(),activate_sidebar_quicksearch(),setTimeout(function(){var e=$(".siblinglist .selected")[0],t=e.getBoundingClientRect().top-280;$(".siblinglist-wrap").scrollTop(t),$("#wikiquicksearch").focus()},200)),"error"==i&&console.log("Wiki Sidebar Error: "+n.status+" "+n.statusText)})});var I=getURLParameter("markid");$(".siblinglist .selected").length>0&&$(".siblinglist .selected").is(":visible")&&!o&&null===I?$(".siblinglist .selected").first().isInViewport()||setTimeout(function(){var e=$(".siblinglist .selected")[0],t=e.getBoundingClientRect().top-280;$(".siblinglist-wrap").first().scrollTop(t)},300):null!==I&&($("li.selected").parent().find(".topicname").click(),$("li.selected").removeClass("selected"),$('li[data-id="'+I+'"]').addClass("selected"),$("li.selected").parent().find(".topicname").click(),$(".siblinglist .selected").length>0&&$(".siblinglist .selected").is(":visible")&&!o&&($(".siblinglist .selected").first().isInViewport()||setTimeout(function(){var e=$(".siblinglist .selected")[0],t=e.getBoundingClientRect().top-280;$(".siblinglist-wrap").first().scrollTop(t)},300)))}if($(".navlist-btm li").length>0&&$(".navlist-btm li").length<11?$(".navlist-btm").addClass("colcount-1"):$(".navlist-btm li").length<21?$(".navlist-btm").addClass("colcount-2"):$(".navlist-btm li").length<41?$(".navlist-btm").addClass("colcount-3"):$(".navlist-btm li").length<100&&$(".navlist-btm").addClass("colcount-4"),$(".grandchildrenlist").each(function(){$(this).find("li > a").setAllSameHeight()}),$(".lerncheck-list-wrap .siblinglist").each(function(){$(this).find("li > a").setAllSameHeight()}),$(".lessonpage").length>0){var O=$(".tabs").clone(!0);$(O).addClass("cloned"),$(O).addClass("fixed"),$(O).hide(),$(O).insertAfter(".tabs"),$(".tabs a").click(function(e){e.preventDefault();var t=$(this).attr("href");$(".lesson-media").hide(),$(t).show(),$(".tabs a").removeClass("isactive"),$(".tabs").find('a[href="'+$(this).attr("href")+'"]').addClass("isactive"),$(O).is(":visible")&&$("html,body").animate({scrollTop:$(".post-title").offset().top-25},"fast"),history.pushState(null,null,t)}),$(".lesson-media").hide();var E=window.location.hash;E.length>0?$('.tabs a[href*="'+E+'"]').click():($('.tabs a[href*="#intro"]').addClass("isactive"),$("#intro").show()),$("#openvideos").click(function(){$('.tabs a[href*="#videos"]').click()}),$("#openwiki").click(function(){$('.tabs a[href*="#wiki"]').click()}),$(window).scroll(function(){$(".post-title a").isInViewport()?$(O).hide():$(O).show()})}if(($(".lessonpage").length>0||$(".parentid-69").length>0||$(".wikipage").length>0)&&($(".klabel span").click(function(){$(this).parent().find(".kdropopt").toggle()}),$(".klabel span").keyup(function(e){"Enter"==e.key&&$(this).parent().find(".kdropopt").toggle()}),$(".kdropopt a").keyup(function(e){"Enter"==e.key&&$(this).click()}),$(".kdropopt a").click(function(e){e.preventDefault();var t=parseInt($("body").attr("id").replace("pageid-","")),n=parseInt($(this).parent().data("goalid"));if($(".lessonpage").length>0){var o=$("body").attr("class"),a=o.indexOf("parentid-"),s=o.indexOf(" ",a+1);o=o.substring(a+9,s),t=parseInt(o),n=parseInt($("body").attr("id").replace("pageid-",""))}if($(".wikipage").length>0){o=$("body").attr("class"),a=o.indexOf("parentid-"),s=o.indexOf(" ",a+1);o=o.substring(a+9,s),t=parseInt(o),n=parseInt($("body").attr("id").replace("pageid-",""))}var r=$(this).attr("class").replace(/\D/g,"");$(".kdropopt").hide();var l=$(this).closest(".klabel").find(".kuserset").data("level"),c=$(this).closest(".klabel").find(".kuserset");c.text($(this).text()),c.removeClass("klevelset-0 klevelset-1 klevelset-2 klevelset-3"),c.addClass("klevelset-"+r),$("#goalid-"+n).removeClass("goalblock-0 goalblock-1 goalblock-2 goalblock-3"),$("#goalid-"+n).addClass("goalblock-"+r),$(this).closest(".klabel").find(".kuserset").data("level",r);var h=parseInt($(".level-"+r+" span.gcnt").text());h++,$(".level-"+r+" span.gcnt").text(h);var d=parseInt($(".level-"+l+" span.gcnt").text());if(d--,$(".level-"+l+" span.gcnt").text(d),$(this).closest(".klabel").find(".kdropdown").removeClass("klevelset-0 klevelset-1 klevelset-2 klevelset-3"),$(this).closest(".klabel").find(".kdropdown").addClass("klevelset-"+r),i){var p={docid:t,goalid:n,level:r},u=JSON.stringify(p);$.ajax({url:"/do/loggoal",type:"post",dataType:"text",data:{goaldata:u},cache:!1,success:function(e){},error:function(e){console.log("could not log"),console.log(JSON.stringify(e))}})}else $.alertable.alert("Der Fortschritt kann nur getrackt werden, wenn du eingeloggt bist.")})),$(".solutionsheetpage").length>0&&$(".ex").length>0&&i){var A=$(".post-title a").text();$(".post-title a").text(A.replace("AB: ","Lösungen: ")),$(".post-title a").attr("href",$(".post-title a").attr("href")+"?los"),$(".exercise-block .ex").append('<div class="clearfix"> <div class="sheeteval-wrap"> <span>Mein Ergebnis ist:</span> <a class="btndefault isright">Richtig</a> <span class="btndefault iswrong">Falsch</span> </div> </div>'),$("article").on("click",".sheeteval-wrap .iswrong",function(){$(this).addClass("btnactive"),$(this).closest(".sheeteval-wrap").find(".isright").removeClass("btnactive"),$(this).closest(".ex").addClass("ex-iswrong"),$(this).closest(".ex").removeClass("ex-isright"),$(this).closest(".ex").data("eval",0)}),$("article").on("click",".sheeteval-wrap .isright",function(){$(this).addClass("btnactive"),$(this).closest(".sheeteval-wrap").find(".iswrong").removeClass("btnactive"),$(this).closest(".ex").addClass("ex-isright"),$(this).closest(".ex").removeClass("ex-iswrong"),$(this).closest(".ex").data("eval",1)}),$(".solutionsheetpage article").append('<p> <span class="btnblue" id="sheeteval-send">Ergebnisse speichern</span> </p>'),$("article").on("click","#sheeteval-send",function(){$(this).hide(),$(this).after('<span id="loading" style="display:block;"></span>');var e="",t="",i=$("body").attr("class").match(/parentid-(\d+)/)[1];window.location.href.indexOf("?los")>-1&&(i=$("body").attr("id").match(/pageid-(\d+)/)[1]),e+="id="+i+"&res=";var n=0,o=0;$(".exercise-block .ex").each(function(){var e=$(this).find(".exnumber").data("nr");if(e&&"Bsp."!=e&&"Bsp"!=e){var i=!(0===$(this).data("eval"));i?n++:o++,t+=(""==t?"":"~~~")+e+(i?"|~1":"|~0")}}),e+=t,$.ajax({url:"/do/log?issheet",type:"post",data:{data:e},success:function(e){$("#loading").hide(),$(".exercise-block").hide(),$("#sheeteval-send").remove();let t=window.location.href.replace("?los",""),i='<a href="'+t+'" class="btnblue">Zurück zum Arbeitsblatt</a>',a=$("#kora-return").data("url");void 0!==a&&(i='<a href="'+a+'" class="btnblue">Zurück zum Lernpfad</a>'),$(".solutionsheetpage article").append('<div class="exercise-result" style="display:inline-block;"> <span class="exr-correct">Richtig: <em>'+n+'</em></span> <span class="exr-wrong">Falsch: <em>'+o+'</em></span> <span class="exr-ratio"><em>'+Math.round(100*n/(n+o))+" %</em> korrekt</span> </div> <div> "+i+" </div>")},error:function(e){console.log("server problem"),console.log(e)}})})}if(i||($(".solutionsheetpage").length>0&&($(".lsg").remove(),setTimeout(function(){alert("Lösungen stehen nur registrierten Nutzern zur Verfügung.")},150)),$(".worksheetpage").length>0&&$(".ab-button-solution").click(function(e){e.preventDefault(),alert("Lösungen stehen nur registrierten Nutzern zur Verfügung.")})),$("#sharepath").on("click",function(e){e.preventDefault();var t=$(this).attr("href");copyTextToClipboard(t),$.alertable.prompt("Lernpfad-Link wurde in deine Zwischenablage kopiert:",{prompt:'<input type="text" class="alertable-input" value="'+t+'" style="font-size:11px;">'})}),$(".lessonpage").length>0&&$(".wikiarticles li a, .grandchildrenlist li a, .qulist-wrap li a").attr("target","_blank"),$(".pwmask span").click(function(){var e=$(this).parent().find("input");"password"==e.attr("type")?(e.attr("type","text"),$(this).addClass("isvisible-eye")):(e.attr("type","password"),$(this).removeClass("isvisible-eye"))}),$(".gifpreview").length>0&&$(".gifpreview").click(function(){if("1"==$(this).data("gifplay"))$(this).attr("src",$(this).data("original")),$(this).data("gifplay",""),$(this).closest(".gifpreview-wrap").removeClass("gifset");else{var e=$(this).data("gif");$(this).attr("src",e),$(this).data("gifplay","1"),$(this).closest(".gifpreview-wrap").addClass("gifset")}}),$("#result-params").length>0){var P=$("#result-params").text().trim(),H=P.split(";");H.forEach(function(e,t){var i=e.split("=");0==i[1]?$('.exnumber[data-nr="'+i[0]+'"]').closest(".ex").addClass("ex-iswrong"):$('.exnumber[data-nr="'+i[0]+'"]').closest(".ex").addClass("ex-isright")})}($(".acceptterms").click(function(){$(".topnotice").remove(),$.ajax({url:"/do/ajaxhandler",type:"post",dataType:"text",data:{acceptterms:"terms"},cache:!1,success:function(e){alert("AGB akzeptiert. Viel Spaß und Erfolg mit Matheretter. ❤"),$(".forcenotify").remove()},error:function(e){console.log(JSON.stringify(e))}})}),$(".forcenotify.accountinit").click(function(){$(".forcenotify").hide()}),$(".forcenotify.accountinit p").click(function(e){e.stopPropagation()}),is_touch_device()&&$("#nav .menu-courses > a, #nav .menu-videos > a, #nav .menu-wiki > a").removeAttr("href"),$(".korapage").length>0)&&($(".klabel span").click(function(){
$(this).parent().find(".kdropopt").toggle()}),$(".kdropopt a").click(function(e){e.preventDefault();var t=parseInt($("body").attr("id").replace("pageid-","")),i=parseInt($(this).parent().data("goalid")),n=$(this).attr("class").replace(/\D/g,"");$(".kdropopt").hide(),$(this).closest(".klabel").find(".kdropdown").removeClass("klevelset-0 klevelset-1 klevelset-2 klevelset-3"),$(this).closest(".klabel").find(".kdropdown").addClass("klevelset-"+n);let o=$(this).closest(".klabel").find(".kdropdown").data("level"),a=$(this).closest(".klabel").find(".kdropdown");a.removeClass("klevelset-0 klevelset-1 klevelset-2 klevelset-3"),a.addClass("klevelset-"+n),$("#goalid-"+i).removeClass("goalblock-0 goalblock-1 goalblock-2 goalblock-3"),$("#goalid-"+i).addClass("goalblock-"+n),$(this).closest(".klabel").find(".kdropdown").data("level",n);let s=parseInt($(".level-"+n+" span.gcnt").text());s++,$(".level-"+n+" span.gcnt").text(s);var r=parseInt($(".level-"+o+" span.gcnt").text());r--,$(".level-"+o+" span.gcnt").text(r);var l={docid:t,goalid:i,level:n},c=JSON.stringify(l);$.ajax({url:"/do/loggoal",type:"post",dataType:"text",data:{goaldata:c},cache:!1,success:function(e){},error:function(e){console.log("could not log"),console.log(JSON.stringify(e))}})}),$(".goaledit").click(function(){$(this).closest("td").find(".qrcode-wrap").hide();var e=$(this).closest("td").find(".gm_textarea");e.toggle()}),$(".gm_cancelbtn").click(function(){$(this).parent().parent().parent().find(".gm_textarea").hide()}),$(".gm_savebtn").click(function(){$(this).closest(".gm_textarea").hide();var e=$(this).parent().parent().find("textarea"),t=e.val(),i=t.split("\n"),n=parseInt($("body").attr("id").replace("pageid-","")),o=e.attr("id").split("_"),a=parseInt(o[2]),s={docid:n,goalid:a,content:t},r=JSON.stringify(s);$.ajax({url:"/do/goaledit?do=goaledit",type:"post",dataType:"text",data:{goaldata:r},cache:!1,success:function(e){},error:function(e){console.log("could not log"),console.log(JSON.stringify(e))}});for(var l=/(http|https|ftp|ftps)\:\/\/[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,3}(\/\S*)?/,c="",h=0;h<i.length;h++){var d=i[h].trim();if(d.length>0){var p=d.match(l);p?(line_url=p[0],d=d.replace(line_url,"").trim(),0==d.length&&(d="Link"),d='<a href="'+line_url+'" target="_blank">'+html_out(d)+"</a>"):d="<span>"+html_out(d)+"</span>",c+='<li><span class="kora-icon-ab">'+d+"</span></li>"}}var u=$(this).closest("td").find(".goalmaterial").find("ul");u.length>0?u.html(c):$(this).closest("td").find(".goalmaterial").append("<ul>"+c+"</ul>")}),$(".gm_uploadbtn").click(function(){$(this).parent().find("input.materialfile").trigger("click")}),$("input.materialfile").change(function(e){_=$(this);var t=_[0].files[0];uploadfile(t),$(this).val(null)}),$(".gm_textarea textarea").keydown(function(e){e.ctrlKey&&13==e.keyCode&&$(".gm_savebtn").click()}));if($("#usersetids").on("change",function(e){$("#userset-select").submit()}),$("#mediatypes").on("change",function(e){$("#userset-select").submit()}),$("#chosenuserid").on("change",function(e){$("#chosenuserid-form").submit()}),$(".printbtn").click(function(){window.print()}),$(".prevent-resubmit").length>0&&window.history.replaceState&&window.history.replaceState(null,null,window.location.href),$(".radiofake").length>0&&($(".radiofake").attr("tabindex","0"),$("body").on("keyup",".radiofake",function(e){e.stopPropagation(),e.preventDefault(),"Enter"!=e.key||0!=$(".alertable:visible").length||$(this).click()})),$(".page-kontakt").length>0){let e=getURLParameter("idea");void 0!==e&&null!=e&&"null"!=e?($(".contact-default, .notify-use-faq").hide(),$(".contact-idea").show()):$(".contact-idea").hide();var B=window.location.href.indexOf("?hide");B>-1&&$(".notify-use-faq, .contact-default").hide(),$(".isloggedin").length>0&&window.location.href.indexOf("www.matheretter.de")>-1&&$(".captcha-wrap").hide(),$(".isvisitor").length>0&&$(".email-wrap").show()}if($(".page-lerncheck").length>0&&($(".siblinglist a").each(function(){let e=$(this).text();$(this).text(" "),$(this).append('<div class="lerncheck-icon"></div><div class="lerncheck-title">'+e+"</div>")}),$(".lerncheck-list-wrap .siblinglist").each(function(){$(this).find("li a").setAllSameHeight()}),$(".siblinglist li:not(.topicname)").hide()),$(".page-statistik-medienzentren").length>0&&$(".tablesorter tr th:first-child").click(),$(".page-kurse").length>0){$(".popoverme").each(function(){$(this).webuiPopover({arrow:!o,animation:"pop",closeable:!0,placement:"auto-top",multi:!1,offsetTop:o?-10:-5,trigger:o?"click":"hover",width:220,onShow:function(e,t){t.addClass("popoverfocus")},onHide:function(e,t){t.removeClass("popoverfocus")}})});var M=getURLParameter("lastgoalid");null!==M&&(M=parseInt(M),$("#goalid-"+M).addClass("lastgoal"),$("html, body").animate({scrollTop:$("#goalid-"+M).offset().top-100},500))}if($(".page-user-profile").length>0&&$("#trackingon").click(function(e){var t=$(this).prop("checked")?1:0,i=($(this),{trackingon:t,userid:$(this).data("original")});console.log(i),$.ajax({type:"POST",url:"",data:{trackingswitch:JSON.stringify(i)},dataType:"json",cache:!1,success:function(e){e.updated},error:function(e,t,i){console.log("problem with server:"),console.log(e.responseText),console.log(i)}})}),$(".page-kapitel").length>0){let e="";$("#search-input").quicksearch("ul.chapterlist",{noResults:"#noresults",stripeRows:["odd","even"],delay:100,loader:"span.loading",onBefore:function(){$(".contentwrap h3, ul.chapterlist, ul.chapterlist").show(),$("ul.chapterlist").unhighlight()},onAfter:function(){""==$("#search-input").val()?($(".contentwrap h3, ul.chapterlist, ul.chapterlist li").show(),$("#noresults").hide()):""!=$("#search-input").val()&&$("#search-input").val().length>1&&($(".contentwrap h3").hide(),$("ul.chapterlist li:visible").highlight($("#search-input").val()),$("ul.chapterlist li:visible").parent().prev("h3").show(),$("ul.chapterlist li:visible").parent().children().show(),$("ul.chapterlist").each(function(){0===$(this).find("li:visible").length&&$(this).hide()})),e=$("#search-input").val()}})}if($(".page-login").length>0){if($("#mainlogin-form").on("submit",function(){return $("#loading").show(),$("#mainlogin-button").attr("disabled",!0),!0}),window.location.href.indexOf("to=%2Fsso%3Fd%26t%3D6")>-1){var L=$(".btnschulportal").attr("href")+"?edu";$(".btnschulportal").attr("href",L)}let e=getURLParameter("u"),t=getURLParameter("pw");void 0!==e&&null!=e&&"null"!=e&&($("#emailhandle").val(decodeURIComponent(e)),$("#password").focus(),0==$(".notification").length&&void 0!==t&&null!=t&&"null"!=t&&($("#password").val(decodeURIComponent(t)),$("#mainlogin-button").click())),"https://www.matheretter.de/"==MR_DOMAIN_URL&&$("#emailhandle").keyup(function(){var e=$(this).val();let t=e.match(/^n(\d+){5}/);t&&$.alertable.confirm('⚠️ Bitte nutzen Sie für diesen Login den Niedersachsen-Server: <a href="https://nds.matheretter.de/login"><b>nds</b>.matheretter.de</a><br><br>Der Server www.matheretter.de enthält keine Accounts für Niedersachsen.',{html:!0,cancelButton:'<button class="alertable-cancel" type="button">Abbrechen</button>',okButton:'<button class="alertable-ok" type="submit">Weiterleiten</button>'}).then(function(){window.location="https://nds.matheretter.de/login"})})}if($(".page-bewertungen-liste").length>0){let e=!1;$("#showonlyemphasize").click(function(){e?$("#references li").show():($("#references li").hide(),$("#references li.emphasize").show()),e=!e})}if($(".page-untertitel").length>0&&""==window.location.hash){var z=$("input#searchterm:text").get(0),R=z.value.length;z.selectionStart=R,z.selectionEnd=R,z.focus()}if($(".page-order-checkout").length>0){let e=getURLParameter("t");"tag"==e&&($(".checkout_monthslabel").text("Tagespreis:"),$("#checkout_duration").text("1 Tag (24 Stunden)"),$(".cancelanytime").text("Das Tagesticket gilt für exakt 24 Stunden."))}if($(".page-rechner-polynomrechner").length>0&&$(".lgsline input").keyup(resizeInput).each(resizeInput),$(".page-rechner-tagesnummern").length>0&&$(window).width()>800){let e=$(".timetable");e.find("tr:gt(0)");e.floatThead({responsiveContainer:function(e){return e.closest(".table-responsive")}})}if($(".page-ab").length>0&&($(".siblinglist a").each(function(){let e=$(this).text();$(this).text(" "),$(this).append('<div class="worksheet-icon"></div><div class="worksheet-title">'+e+"</div>")}),$(".lerncheck-list-wrap .siblinglist").each(function(){$(this).find("li a").setAllSameHeight()}),$(".siblinglist li:not(.topicname)").hide(),$("#wikiquicksearch").keyup(function(){$(".exams-wrap").hide()})),$(".page-kora-leistungen").length>0&&($("tr:not(.tr-head-competence) th").each(function(){$("td").filter(":nth-child("+($(this).index()+1)+")").addClass($(this).attr("class"))}),$("#goalfilter").on("change",function(e){$("#userset-select").submit()})),$(".page-preise").length>0&&($(".moba-topright").click(function(e){$("html,body").animate({scrollTop:$(".moneyback-wrapper").offset().top-100},500)}),$(".slickitems").slick({dots:!1,infinite:!0,arrows:!0}),$("#gonextslide").click(function(){$(".slickitems").slick("slickNext")})),$(".page-user-rating").length>0){let e=!1;$("#form-rating").on("submit",function(t){if(!e){t.preventDefault();var i=!1;return $(".star-rating_input").each(function(){$(this).prop("checked")&&(i=!0)}),i?""==$("#content").val()?(alert("Bitte sag uns, was dir an Matheretter gefallen hat."),$("#content").focus(),!1):""==$("#critics").val()?(alert("Bitte sag uns noch, was wir besser machen können."),$("#critics").focus(),!1):(e=!0,$(this).submit(),!0):(alert("Bitte eine Bewertung mit den Sternen abgeben."),$("#star-rating-5").click(),!1)}})}if($(".page-wiki-griechische-winkelnamen").length>0&&($(".tcontent td:first-child").append('<i class="fa fa-volume-down" aria-hidden="true"></i>'),$(".tcontent td:first-child").click(function(){let e=$(this).find("span").data("read");dospeak(e,null)})),$(".page-romisch-11").length>0&&$("#checkvalues").hover(function(){$(".checkresult").each(function(){$(this).val(parseInt($(this).val().replace(/\D/g,"")))})}),$(".page-romisch-12").length>0&&$("#checkvalues").hover(function(){$(".checkresult").each(function(){$(this).val($(this).val().trim().toUpperCase())})}),$(".page-hexadezimal-11").length>0&&$("#checkvalues").hover(function(){$(".checkresult").each(function(){$(this).val($(this).val().trim())})}),$(".page-hexadezimal-12").length>0&&$("#checkvalues").hover(function(){$(".checkresult").each(function(){$(this).val($(this).val().trim().toUpperCase())})}),$(".page-zahlensysteme-1").length>0&&$("#checkvalues").hover(function(){$(".checkresult").each(function(){$(this).val($(this).val().trim())})}),$(".page-analyse-kurse").length>0&&$(".popoverme").each(function(){$(this).webuiPopover({arrow:!o,animation:"pop",closeable:!0,placement:"auto-top",multi:!1,offsetTop:o?-10:-5,trigger:o?"click":"hover",width:220,onShow:function(e,t){t.addClass("popoverfocus")},onHide:function(e,t){t.removeClass("popoverfocus")}})}),($(".page-grundrechenarten-15").length>0||$(".page-grundrechenarten-20").length>0||$(".page-grundrechenarten-2000").length>0)&&$(".checkresult.isnumber").keyup(function(e){37!=e.which&&38!=e.which&&39!=e.which&&40!=e.which&&$(this).get(0).setSelectionRange(0,0)}),($(".page-grundrechenarten-2050").length>0||$(".page-grundrechenarten-2100").length>0)&&$("#checkvalues").hover(function(){$(".checkresult").each(function(){$(this).val().length>0&&$(this).val(parseInt($(this).val()))})}),$(".page-kora-selbst").length>0&&$(".popoverme").each(function(){$(this).webuiPopover({arrow:!0,animation:"pop",closeable:!0,placement:"auto-top",multi:!1,offsetTop:o?-10:-5,trigger:o?"click":"hover",style:"mobnotfix",width:220,onShow:function(e,t){t.addClass("popoverfocus")},onHide:function(e,t){t.removeClass("popoverfocus")}})}),$(".page-user-delete").length>0&&($(".btn-delete-account").click(function(e){if(e.preventDefault(e),$("input.pw-enter").length>0&&0==$("input.pw-enter").val().length)return $.alertable.alert("⚠️ Bitte Passwort eingeben."),void $(".pw-enter").focus();$.alertable.confirm("<b>⚠️ Bist du wirklich sicher?</b><br><br>Deine Daten können nicht wieder hergestellt werden.",{html:!0,cancelButton:'<button class="alertable-cancel" type="button">Abbrechen</button>'}).then(function(){$("form#deleteuser").submit()})}),$("input.pw-enter").keyup(function(){$("#password").val($(this).val())})),$(".page-kurse-selbst").length>0&&$(".popoverme").each(function(){$(this).webuiPopover({arrow:!0,animation:"pop",closeable:!0,placement:"auto-top",multi:!1,offsetTop:o?-10:-5,trigger:o?"click":"hover",style:"mobnotfix",width:220,onShow:function(e,t){t.addClass("popoverfocus")},onHide:function(e,t){t.removeClass("popoverfocus")}})}),$(".page-binomisch-10").length>0&&$(".checkresult").keyup(function(){"A"==$(this).val()?$(this).val("a"):"B"==$(this).val()&&$(this).val("b")}),$(".page-user-mydata").length>0&&($("#btn-profile-print").click(function(e){e.preventDefault(),window.print()}),$("#btn-profile-export").click(function(e){e.preventDefault(),$("#form-profile-export").submit()})),$(".page-avv").length>0){var j=!1;$("#signer-data").length>0&&($("#enterschool").val($("#signer-school").text()),$("#signer").val($("#signer-name").text()),$("#datapro-officer").val(html_out($("#signer-officername").text())),$(".schooladdress-copy").html($("#signer-school").html().replace(/\n/g,"<br>")),$("#officialperson").text(html_out($("#signer-officername").text())),$("#avvconfirm").prop("checked",!0),j=!0),$("#enterschool").click(function(){j||($("#enterschool").text(""),j=!0)}),$("#enterschool").on("input",function(){$(".schooladdress-copy").html("<pre>"+$(this).val()+"</pre>")}),$("#datapro-officer").on("input",function(){$("#officialperson").html($(this).val())}),$(".avvconfirm-wrap .avvconfirmbtn").click(function(e){e.preventDefault();let t=$("#enterschool").val();if(t.indexOf("✏️ Schulname")>-1||0==t.length)return $.alertable.alert("⚠️ Bitte Ihren Schulnamen eintragen."),void setTimeout(function(){$("#enterschool").focus()},150);let i=$("#signer").val();if(0==i.length)return $.alertable.alert("⚠️ Bitte Ihren Namen eintragen."),void $("#signer").focus();let n=$("#datapro-officer").val();if(0==n.length)return $.alertable.alert("⚠️ Bitte Namen eintragen."),void $("#datapro-officer").focus();if(!$("#avvconfirm").is(":checked"))return $.alertable.alert("⚠️ Bitte das Häckchen setzen."),void $("#avvconfirm").focus();t=t.replace(/<br>/g," ");let o={schoolname:t,signedby:i,officername:n},a=JSON.stringify(o);$.ajax({url:"/do/ajaxhandler?do=avvconfirm",type:"post",dataType:"text",data:{ajaxdata:a},cache:!1,success:function(e){e.trim().startsWith("⚠️")?$.alertable.alert(e.trim()):($(".printbtn").show(),$.alertable.confirm("✔️ Vielen Dank. Ihr Einverständnis wurde gespeichert.<br><br>Sie können das Dokument nun drucken.",{html:!0,cancelButton:'<button class="alertable-cancel" type="button">Schließen</button>',okButton:'<button class="alertable-ok" type="submit">Drucken</button>'}).then(function(){setTimeout(function(){window.print()},250)}))},error:function(e){console.log("could not log"),console.log(JSON.stringify(e))}})})}$(".page-vorrangregeln-600").length>0&&($("#checkvalues").hover(function(){$(".checkresult").each(function(){$(this).val($(this).val().toString().replace(/\s/g,""))})}),$(".checkresult").keypress(function(e){if(" "==String.fromCharCode(e.which))return!0;var t=new RegExp("^[0-9()+-:]+$"),i=String.fromCharCode(e.charCode?e.charCode:e.which);return!!t.test(i)})),$(".page-user-sso").length>0&&$(".createssobtn").click(function(){""==$("#provider_url").val()&&""==$("#client_id").val()&&""==$("#client_secret").val()&&$("form.iserv-form").submit()}),$(".page-user-sso-connect").length>0&&window.location.href.indexOf("?help")>-1&&$.alertable.alert("✔️ Single-Sign-On wurde angelegt.<br><br>🔔 Sie können jetzt weitere Single-Sign-On-Lösungen mit Ihrem Benutzerkonto verbinden. So vermeiden Sie das Anlegen von Doppelkonten.",{html:!0}),$("[aria-haspopup]").attr("aria-expanded","false"),$("#nav li.parent a, #nav li.parent ul a, .usermenu-toggle, #usermenu ul.dropdown a").attr("tabindex","0"),$("body").on("keyup",".usermenu-toggle, #usermenu ul.dropdown a",function(e){if("Enter"==e.key){let t=$(this).attr("aria-expanded");t="false"==t?"true":"false",$(this).attr("aria-expanded",t),$(this).click(),e.stopPropagation()}}),$("#nav li.parent > a").keydown(function(e){if("Enter"==e.key){let t=$(this).attr("aria-expanded");t="false"==t?"true":"false",$(this).attr("aria-expanded",t),$(this).closest(".parent").find("ul").toggle(),e.stopPropagation(),e.preventDefault()}}),$(".page-user-profile").length>0&&$(".profilebtn-more").click(function(){$(".profile-options").fadeToggle(150)})}),window.onerror=function(e,t,i,n,o){if("https://www.matheretter.de/"==MR_DOMAIN_URL){var a={url:window.location.href,message:e,source:t,lineno:i},s=JSON.stringify(a);$.ajax({url:"/do/logjs?type=jserror",type:"post",dataType:"text",data:{ajaxdata:s},cache:!1,success:function(e){},error:function(e){console.log("could not log"),console.log(JSON.stringify(e))}})}},$.fn.setAllSameHeight=function(){return this.height(Math.max.apply(this,$.map(this,function(e){return $(e).height()})))},$.getCachedScript=function(e,t){let i=document.createElement("script");i.src=e,document.head.appendChild(i),i.onload=t},$.fn.isInViewport=function(){if($(this).length>0){var e=$(this).offset().top+60,t=e+$(this).outerHeight(),i=$(window).scrollTop(),n=i+$(window).height();return t>i&&e<n}return!1},function(e,t,i){function n(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var o,a="hashchange",s=document,r=e.event.special,l=s.documentMode,c="on"+a in t&&(l===i||l>7);e.fn[a]=function(e){return e?this.bind(a,e):this.trigger(a)},e.fn[a].delay=50,r[a]=e.extend(r[a],{setup:function(){if(c)return!1;e(o.start)},teardown:function(){if(c)return!1;e(o.stop)}}),o=function(){function o(){var i=n(),s=g(p);i!==p?(f(p=i,s),e(t).trigger(a)):s!==p&&(location.href=location.href.replace(/#.*/,"")+s),r=setTimeout(o,e.fn[a].delay)}var r,l,h,d={},p=n(),u=function(e){return e},f=u,g=u;return d.start=function(){r||o()},d.stop=function(){r&&clearTimeout(r),r=i},!c&&(d.start=function(){l||(h=e.fn[a].src,h=h&&h+n(),l=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){h||f(n()),o()}).attr("src",h||"javascript:0").insertAfter("body")[0].contentWindow,s.onpropertychange=function(){try{"title"===event.propertyName&&(l.document.title=s.title)}catch(e){}})},d.stop=u,g=function(){return n(l.location.href)},f=function(t,i){var n=l.document,o=e.fn[a].domain;t!==i&&(n.title=s.title,n.open(),o&&n.write('<script>document.domain="'+o+'"</script>'),n.close(),l.location.hash=t)}),d}()}(jQuery,this),function(e){"use strict";var t="selectric",i="Input Items Open Disabled TempShow HideSelect Wrapper Hover Responsive Above Scroll",n=".sl",o={onChange:function(t){e(t).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!0,openOnHover:!1,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,customClass:{prefix:t,postfixes:i,camelCase:!0},optionsItemBuilder:"{text}"},a={replaceDiacritics:function(e){for(var t="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" "),i=t.length;i--;)e=e.toLowerCase().replace(RegExp("["+t[i]+"]","g"),"aeiouncy".charAt(i));return e},format:function(e){var t=arguments;return(""+e).replace(/{(\d+|(\w+))}/g,function(e,i,n){return n&&t[1]?t[1][n]:t[i]})},nextEnabledItem:function(e,t){for(;e[t=(t+1)%e.length].disabled;);return t},previousEnabledItem:function(e,t){for(;e[t=(t>0?t:e.length)-1].disabled;);return t},toDash:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(i,n){var o=n.element,s=n.options["on"+i];e.isFunction(s)&&s.call(o,o),e(o).trigger(t+"-"+a.toDash(i))}},s=e(document),r=e(window),l=function(l,c){function h(t){if(M.options=e.extend(!0,{},o,M.options,t),M.classes={},M.element=l,a.triggerCallback("BeforeInit",M),M.options.disableOnMobile&&j)M.disableOnMobile=!0;else{b(!0);var n=M.options.customClass,s=n.postfixes.split(" "),r=L.width();e.each(i.split(" "),function(e,t){var i=n.prefix+s[e];M.classes[t.toLowerCase()]=n.camelCase?i:a.toDash(i)}),y=e("<input/>",{class:M.classes.input,readonly:j}),k=e("<div/>",{class:M.classes.items,tabindex:-1}),x=e("<div/>",{class:M.classes.scroll}),C=e("<div/>",{class:n.prefix,html:M.options.arrowButtonMarkup}),T=e('<p class="label"/>'),_=L.wrap("<div>").parent().append(C.prepend(T),k,y),B={open:g,close:v,destroy:b,refresh:p,init:h},L.on(B).wrap('<div class="'+M.classes.hideselect+'">'),e.extend(M,B),M.options.inheritOriginalWidth&&r>0&&_.width(r),R=!0,d()}}function d(){M.items=[];var i=L.children(),o="<ul>",s=i.filter(":selected").index();O=I=~s?s:0,(H=i.length)&&(i.each(function(t){var i=e(this),n=i.html(),s=i.prop("disabled"),r=M.options.optionsItemBuilder;M.items[t]={value:i.val(),text:n,slug:a.replaceDiacritics(n),disabled:s},o+=a.format('<li class="{1}">{2}</li>',e.trim([t==O?"selected":"",t==H-1?"last":"",s?"disabled":""].join(" ")),e.isFunction(r)?r(M.items[t],i,t):a.format(r,M.items[t]))}),k.append(x.html(o+"</ul>")),T.html(M.items[O].text)),C.add(L).off(n),_.prop("class",[M.classes.wrapper,L.prop("class").replace(/\S+/g,t+"-$&"),M.options.responsive?M.classes.responsive:""].join(" ")),L.prop("disabled")?(_.addClass(M.classes.disabled),y.prop("disabled",!0)):(_.removeClass(M.classes.disabled).hover(function(){e(this).toggleClass(M.classes.hover)}),M.options.openOnHover&&C.on("mouseenter"+n,g),C.on("click"+n,function(e){z?v():g(e)}),y.prop({tabindex:D,disabled:!1}).off().on({keypress:u,keydown:function(e){u(e),clearTimeout(M.resetStr),M.resetStr=setTimeout(function(){y.val("")},M.options.keySearchTimeout);var t=e.keyCode||e.which;t>36&&41>t&&$(a[(39>t?"previous":"next")+"EnabledItem"](M.items,I))},focusin:function(e){y.one("blur",function(){y.blur()}),z||g(e)}}).on("oninput"in y[0]?"input":"keyup",function(){y.val().length&&e.each(M.items,function(e,t){return RegExp("^"+y.val(),"i").test(t.slug)&&!t.disabled?($(e),!1):void 0})}),L.prop("tabindex",!1),S=e("li",k.removeAttr("style")).click(function(){return $(e(this).index(),!0),!1})),a.triggerCallback("Init",M)}function p(){a.triggerCallback("Refresh",M),d()}function u(e){var t=e.keyCode||e.which;13==t&&e.preventDefault(),/^(9|13|27)$/.test(t)&&(e.stopPropagation(),$(I,!0))}function f(){var e=k.closest(":visible").children(":hidden"),t=M.options.maxHeight;e.addClass(M.classes.tempshow);var i=k.outerWidth(),n=C.outerWidth()-(i-k.width());!M.options.expandToItemText||n>i?P=n:(k.css("overflow","scroll"),_.width(9e4),P=k.width(),k.css("overflow",""),_.width("")),k.width(P).height()>t&&k.height(t),e.removeClass(M.classes.tempshow)}function g(t){a.triggerCallback("BeforeOpen",M),t&&(t.preventDefault(),t.stopPropagation()),R&&(f(),e("."+M.classes.open).removeClass(M.classes.open),z=!0,E=k.outerHeight(),A=k.height(),y.val("").is(":focus")||y.focus(),s.on("click"+n,v).on("scroll"+n,m),m(),M.options.preventWindowScroll&&s.on("mousewheel"+n+" DOMMouseScroll"+n,"."+M.classes.scroll,function(t){var i=t.originalEvent,n=e(this).scrollTop(),o=0;"detail"in i&&(o=-1*i.detail),"wheelDelta"in i&&(o=i.wheelDelta),"wheelDeltaY"in i&&(o=i.wheelDeltaY),"deltaY"in i&&(o=-1*i.deltaY),(n==this.scrollHeight-A&&0>o||0==n&&o>0)&&t.preventDefault()}),M.options.openOnHover&&(clearTimeout(M.closeTimer),_.one("mouseleave"+n,function(){M.closeTimer=setTimeout(v,500)})),_.addClass(M.classes.open),w(I),a.triggerCallback("Open",M))}function m(){f(),_.toggleClass(M.classes.above,_.offset().top+_.outerHeight()+E>r.scrollTop()+r.height())}function v(e){if(a.triggerCallback("BeforeClose",M),!e&&O!=I){var t=M.items[I].text;L.prop("selectedIndex",O=I).data("value",t),a.triggerCallback("Change",M),T.html(t)}s.off(n),_.removeClass(M.classes.open),z=!1,a.triggerCallback("Close",M)}function $(e,t){M.items[I=e].disabled||(S.removeClass("selected").eq(e).addClass("selected"),w(e),t&&v())}function w(e){var t=S.eq(e).outerHeight(),i=S[e].offsetTop,n=x.scrollTop(),o=i+2*t;x.scrollTop(o>n+E?o-E:n>i-t?i-t:n)}function b(e){R&&(k.add(C).add(y).remove(),!e&&L.removeData(t).removeData("value"),L.prop("tabindex",D).off(n).off(B).unwrap().unwrap(),R=!1)}var y,k,x,C,T,_,S,I,O,E,A,P,H,B,M=this,L=e(l),z=!1,R=!1,j=/android|ip(hone|od|ad)/i.test(navigator.userAgent),D=L.prop("tabindex");h(c)};e.fn[t]=function(i){return this.each(function(){var n=e.data(this,t);n&&!n.disableOnMobile?""+i===i&&n[i]?n[i]():n.init(i):e.data(this,t,new l(this,i))})}}(jQuery),function(e){function t(e,t){return"function"==typeof e?e.call(t):e}function i(t,i){this.$element=e(t),this.options=i,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){var i=this.getTitle();if(i&&this.enabled){var n=this.tip();n.find(".tipsy-inner")[this.options.html?"html":"text"](i),n[0].className="tipsy",n.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var o,a=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),s=n[0].offsetWidth,r=n[0].offsetHeight,l=t(this.options.gravity,this.$element[0]);switch(l.charAt(0)){case"n":o={top:a.top+a.height+this.options.offset,left:a.left+a.width/2-s/2};break;case"s":o={top:a.top-r-this.options.offset,left:a.left+a.width/2-s/2};break;case"e":o={top:a.top+a.height/2-r/2,left:a.left-s-this.options.offset};break;case"w":o={top:a.top+a.height/2-r/2,left:a.left+a.width+this.options.offset}}2==l.length&&("w"==l.charAt(1)?o.left=a.left+a.width/2-15:o.left=a.left+a.width/2-s+15),n.css(o).addClass("tipsy-"+l),n.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+l.charAt(0),this.options.className&&n.addClass(t(this.options.className,this.$element[0])),this.options.fade?n.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):n.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){e(this).remove()}):this.tip().remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title").attr("title","")},getTitle:function(){var e=this.$element,t=this.options;this.fixTitle();var i;t=this.options;return"string"==typeof t.title?i=e.attr("title"==t.title?"original-title":t.title):"function"==typeof t.title&&(i=t.title.call(e[0])),i=(""+i).replace(/(^\s*|\s*$)/,""),i||t.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){function n(n){var o=e.data(n,"tipsy");return o||(o=new i(n,e.fn.tipsy.elementOptions(n,t)),e.data(n,"tipsy",o)),o}function o(){var e=n(this);e.hoverState="in",0==t.delayIn?e.show():(e.fixTitle(),setTimeout(function(){"in"==e.hoverState&&e.show()},t.delayIn))}function a(){var e=n(this);e.hoverState="out",0==t.delayOut?e.hide():setTimeout(function(){"out"==e.hoverState&&e.hide()},t.delayOut)}if(!0===t)return this.data("tipsy");if("string"==typeof t){var s=this.data("tipsy");return s&&s[t](),this}if(t=e.extend({},e.fn.tipsy.defaults,t),t.live||this.each(function(){n(this)}),"manual"!=t.trigger){var r=t.live?"live":"bind",l="hover"==t.trigger?"mouseenter":"focus",c="hover"==t.trigger?"mouseleave":"blur";this[r](l,o)[r](c,a)}return this},e.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},e.fn.tipsy.elementOptions=function(t,i){return e.metadata?e.extend({},i,e(t).metadata()):i},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"},e.fn.tipsy.autoBounds=function(t,i){return function(){var n={ns:i[0],ew:i.length>1&&i[1]},o=e(document).scrollTop()+t,a=e(document).scrollLeft()+t,s=e(this);return s.offset().top<o&&(n.ns="n"),s.offset().left<a&&(n.ew="w"),e(window).width()+e(document).scrollLeft()-s.offset().left<t&&(n.ew="e"),e(window).height()+e(document).scrollTop()-s.offset().top<t&&(n.ns="s"),n.ns+(n.ew?n.ew:"")}}}(jQuery),function(e){e.fn.appear=function(t,i){var n=e.extend({one:!0},i);return this.each(function(){var i=e(this);if(i.appeared=!1,t){var o=e(window),a=function(){if(i.is(":visible")){var e=o.scrollLeft(),t=o.scrollTop(),a=i.offset(),s=a.left,r=a.top;r+i.height()>=t&&r<=t+o.height()&&s+i.width()>=e&&s<=e+o.width()?i.appeared||i.trigger("appear",n.data):i.appeared=!1}else i.appeared=!1},s=function(){if(i.appeared=!0,n.one){o.unbind("scroll",a);var s=e.inArray(a,e.fn.appear.checks);s>=0&&e.fn.appear.checks.splice(s,1)}t.apply(this,arguments)};n.one?i.one("appear",n.data,s):i.bind("appear",n.data,s),o.scroll(a),e.fn.appear.checks.push(a),a()}else i.trigger("appear",n.data)})},e.extend(e.fn.appear,{checks:[],timeout:null,checkAll:function(){var t=e.fn.appear.checks.length;if(t>0)for(;t--;)e.fn.appear.checks[t]()},run:function(){e.fn.appear.timeout&&clearTimeout(e.fn.appear.timeout),e.fn.appear.timeout=setTimeout(e.fn.appear.checkAll,20)}}),e.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(t,i){var n=e.fn[i];n&&(e.fn[i]=function(){var t=n.apply(this,arguments);return e.fn.appear.run(),t})})}(jQuery),function(e){var t=e(window);e.fn.visible=function(e,i,n){if(!(this.length<1)){var o=this.length>1?this.eq(0):this,a=o.get(0),s=t.width(),r=t.height(),l=(n=n||"both",!0!==i||a.offsetWidth*a.offsetHeight);if("function"==typeof a.getBoundingClientRect){var c=a.getBoundingClientRect(),h=c.top>=0&&c.top<r,d=c.bottom>0&&c.bottom<=r,p=c.left>=0&&c.left<s,u=c.right>0&&c.right<=s,f=e?h||d:h&&d,g=e?p||u:p&&u;if("both"===n)return l&&f&&g;if("vertical"===n)return l&&f;if("horizontal"===n)return l&&g}else{var m=t.scrollTop(),v=m+r,$=t.scrollLeft(),w=$+s,b=o.offset(),y=b.top,k=y+o.height(),x=b.left,C=x+o.width(),T=!0===e?k:y,_=!0===e?y:k,S=!0===e?C:x,I=!0===e?x:C;if("both"===n)return!!l&&v>=_&&T>=m&&w>=I&&S>=$;if("vertical"===n)return!!l&&v>=_&&T>=m;if("horizontal"===n)return!!l&&w>=I&&S>=$}}}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(e){var t,i,n,o,a,s,r="Close",l="BeforeClose",c="AfterClose",h="BeforeAppend",d="MarkupParse",p="Open",u="Change",f="mfp",g="."+f,m="mfp-ready",v="mfp-removing",$="mfp-prevent-close",w=function(){},b=!!window.jQuery,y=e(window),k=function(e,i){t.ev.on(f+e+g,i)},x=function(t,i,n,o){var a=document.createElement("div");return a.className="mfp-"+t,n&&(a.innerHTML=n),o?i&&i.appendChild(a):(a=e(a),i&&a.appendTo(i)),a},C=function(i,n){t.ev.triggerHandler(f+i,n),t.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),t.st.callbacks[i]&&t.st.callbacks[i].apply(t,e.isArray(n)?n:[n]))},T=function(i){return i===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=i),t.currTemplate.closeBtn},_=function(){e.magnificPopup.instance||(t=new w,t.init(),e.magnificPopup.instance=t)},S=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};w.prototype={constructor:w,init:function(){var i=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(i),t.isIOS=/iphone|ipad|ipod/gi.test(i),t.supportsTransition=S(),
t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=e(document),t.popupsCache={}},open:function(i){var o;if(!1===i.isObj){t.items=i.items.toArray(),t.index=0;var s,r=i.items;for(o=0;o<r.length;o++)if(s=r[o],s.parsed&&(s=s.el[0]),s===i.el[0]){t.index=o;break}}else t.items=e.isArray(i.items)?i.items:[i.items],t.index=i.index||0;if(!t.isOpen){t.types=[],a="",i.mainEl&&i.mainEl.length?t.ev=i.mainEl.eq(0):t.ev=n,i.key?(t.popupsCache[i.key]||(t.popupsCache[i.key]={}),t.currTemplate=t.popupsCache[i.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,i),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=x("bg").on("click"+g,function(){t.close()}),t.wrap=x("wrap").attr("tabindex",-1).on("click"+g,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=x("container",t.wrap)),t.contentContainer=x("content"),t.st.preloader&&(t.preloader=x("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(o=0;o<l.length;o++){var c=l[o];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}C("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(k(d,function(e,t,i,n){i.close_replaceWith=T(n.type)}),a+=" mfp-close-btn-in"):t.wrap.append(T())),t.st.alignTop&&(a+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:y.scrollTop(),position:"absolute"}),(!1===t.st.fixedBgPos||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:n.height(),position:"absolute"}),t.st.enableEscapeKey&&n.on("keyup"+g,function(e){27===e.keyCode&&t.close()}),y.on("resize"+g,function(){t.updateSize()}),t.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&t.wrap.addClass(a);var h=t.wH=y.height(),u={};if(t.fixedContentPos&&t._hasScrollBar(h)){var f=t._getScrollbarSize();f&&(u.marginRight=f)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):u.overflow="hidden");var v=t.st.mainClass;return t.isIE7&&(v+=" mfp-ie7"),v&&t._addClassToMFP(v),t.updateItemHTML(),C("BuildControls"),e("html").css(u),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(m),t._setFocus()):t.bgOverlay.addClass(m),n.on("focusin"+g,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(h),C(p),i}t.updateItemHTML()},close:function(){t.isOpen&&(C(l),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(v),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){C(r);var i=v+" "+m+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(i+=t.st.mainClass+" "),t._removeClassFromMFP(i),t.fixedContentPos){var o={marginRight:""};t.isIE7?e("body, html").css("overflow",""):o.overflow="",e("html").css(o)}n.off("keyup"+g+" focusin"+g),t.ev.off(g),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&!0!==t.currTemplate[t.currItem.type]||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,C(c)},updateSize:function(e){if(t.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;t.wrap.css("height",n),t.wH=n}else t.wH=e||y.height();t.fixedContentPos||t.wrap.css("height",t.wH),C("Resize")},updateItemHTML:function(){var i=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),i.parsed||(i=t.parseEl(t.index));var n=i.type;if(C("BeforeChange",[t.currItem?t.currItem.type:"",n]),t.currItem=i,!t.currTemplate[n]){var a=!!t.st[n]&&t.st[n].markup;C("FirstMarkupParse",a),t.currTemplate[n]=!a||e(a)}o&&o!==i.type&&t.container.removeClass("mfp-"+o+"-holder");var s=t["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,t.currTemplate[n]);t.appendContent(s,n),i.preloaded=!0,C(u,i),o=i.type,t.container.prepend(t.contentContainer),C("AfterChange")},appendContent:function(e,i){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&!0===t.currTemplate[i]?t.content.find(".mfp-close").length||t.content.append(T()):t.content=e:t.content="",C(h),t.container.addClass("mfp-"+i+"-holder"),t.contentContainer.append(t.content)},parseEl:function(i){var n,o=t.items[i];if(o.tagName?o={el:e(o)}:(n=o.type,o={data:o,src:o.src}),o.el){for(var a=t.types,s=0;s<a.length;s++)if(o.el.hasClass("mfp-"+a[s])){n=a[s];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=n||t.st.type||"inline",o.index=i,o.parsed=!0,t.items[i]=o,C("ElementParse",o),t.items[i]},addGroup:function(e,i){var n=function(n){n.mfpEl=this,t._openClick(n,e,i)};i||(i={});var o="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(o).on(o,n)):(i.isObj=!1,i.delegate?e.off(o).on(o,i.delegate,n):(i.items=e,e.off(o).on(o,n)))},_openClick:function(i,n,o){var a=void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick;if(a||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){var s=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(s)if(e.isFunction(s)){if(!s.call(t))return!0}else if(y.width()<s)return!0;i.type&&(i.preventDefault(),t.isOpen&&i.stopPropagation()),o.el=e(i.mfpEl),o.delegate&&(o.items=n.find(o.delegate)),t.open(o)}},updateStatus:function(e,n){if(t.preloader){i!==e&&t.container.removeClass("mfp-s-"+i),n||"loading"!==e||(n=t.st.tLoading);var o={status:e,text:n};C("UpdateStatus",o),e=o.status,n=o.text,t.preloader.html(n),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),i=e}},_checkIfClose:function(i){if(!e(i).hasClass($)){var n=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(n&&o)return!0;if(!t.content||e(i).hasClass("mfp-close")||t.preloader&&i===t.preloader[0])return!0;if(i===t.content[0]||e.contains(t.content[0],i)){if(n)return!0}else if(o&&e.contains(document,i))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?n.height():document.body.scrollHeight)>(e||y.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(i){return i.target===t.wrap[0]||e.contains(t.wrap[0],i.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,i,n){var o;n.data&&(i=e.extend(n.data,i)),C(d,[t,i,n]),e.each(i,function(i,n){if(void 0===n||!1===n)return!0;if(o=i.split("_"),o.length>1){var a=t.find(g+"-"+o[0]);if(a.length>0){var s=o[1];"replaceWith"===s?a[0]!==n[0]&&a.replaceWith(n):"img"===s?a.is("img")?a.attr("src",n):a.replaceWith(e("<img>").attr("src",n).attr("class",a.attr("class"))):a.attr(o[1],n)}}else t.find(g+"-"+i).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(t,i){return _(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=i||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(e.magnificPopup.defaults[t]=i.options),e.extend(this.proto,i.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(i){_();var n=e(this);if("string"==typeof i)if("open"===i){var o,a=b?n.data("magnificPopup"):n[0].magnificPopup,s=parseInt(arguments[1],10)||0;a.items?o=a.items[s]:(o=n,a.delegate&&(o=o.find(a.delegate)),o=o.eq(s)),t._openClick({mfpEl:o},n,a)}else t.isOpen&&t[i].apply(t,Array.prototype.slice.call(arguments,1));else i=e.extend(!0,{},i),b?n.data("magnificPopup",i):n[0].magnificPopup=i,t.addGroup(n,i);return n};var I,O,E,A="inline",P=function(){E&&(O.after(E.addClass(I)).detach(),E=null)};e.magnificPopup.registerModule(A,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(A),k(r+"."+A,function(){P()})},getInline:function(i,n){if(P(),i.src){var o=t.st.inline,a=e(i.src);if(a.length){var s=a[0].parentNode;s&&s.tagName&&(O||(I=o.hiddenClass,O=x(I),I="mfp-"+I),E=a.after(O).detach().removeClass(I)),t.updateStatus("ready")}else t.updateStatus("error",o.tNotFound),a=e("<div>");return i.inlineElement=a,a}return t.updateStatus("ready"),t._parseMarkup(n,{},i),n}}});var H,B="ajax",M=function(){H&&e(document.body).removeClass(H)},L=function(){M(),t.req&&t.req.abort()};e.magnificPopup.registerModule(B,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(B),H=t.st.ajax.cursor,k(r+"."+B,L),k("BeforeChange."+B,L)},getAjax:function(i){H&&e(document.body).addClass(H),t.updateStatus("loading");var n=e.extend({url:i.src,success:function(n,o,a){var s={data:n,xhr:a};C("ParseAjax",s),t.appendContent(e(s.data),B),i.finished=!0,M(),t._setFocus(),setTimeout(function(){t.wrap.addClass(m)},16),t.updateStatus("ready"),C("AjaxContentAdded")},error:function(){M(),i.finished=i.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",i.src))}},t.st.ajax.settings);return t.req=e.ajax(n),""}}});var z,R=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=t.st.image.titleSrc;if(n){if(e.isFunction(n))return n.call(t,i);if(i.el)return i.el.attr(n)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=t.st.image,n=".image";t.types.push("image"),k(p+n,function(){"image"===t.currItem.type&&i.cursor&&e(document.body).addClass(i.cursor)}),k(r+n,function(){i.cursor&&e(document.body).removeClass(i.cursor),y.off("resize"+g)}),k("Resize"+n,t.resizeImage),t.isLowIE&&k("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var i=0;t.isLowIE&&(i=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-i)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,z&&clearInterval(z),e.isCheckingImgSize=!1,C("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var i=0,n=e.img[0],o=function(a){z&&clearInterval(z),z=setInterval(function(){return n.naturalWidth>0?void t._onImageHasSize(e):(i>200&&clearInterval(z),i++,void(3===i?o(10):40===i?o(50):100===i&&o(500)))},a)};o(1)},getImage:function(i,n){var o=0,a=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,C("ImageLoadComplete")):(o++,200>o?setTimeout(a,100):s()))},s=function(){i&&(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("error",r.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},r=t.st.image,l=n.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",i.el&&i.el.find("img").length&&(c.alt=i.el.find("img").attr("alt")),i.img=e(c).on("load.mfploader",a).on("error.mfploader",s),c.src=i.src,l.is("img")&&(i.img=i.img.clone()),c=i.img[0],c.naturalWidth>0?i.hasSize=!0:c.width||(i.hasSize=!1)}return t._parseMarkup(n,{title:R(i),img_replaceWith:i.img},i),t.resizeImage(),i.hasSize?(z&&clearInterval(z),i.loadError?(n.addClass("mfp-loading"),t.updateStatus("error",r.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),t.updateStatus("ready")),n):(t.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),t.findImageSize(i)),n)}}});var j,D=function(){return void 0===j&&(j=void 0!==document.createElement("p").style.MozTransform),j};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i=t.st.zoom,n=".zoom";if(i.enabled&&t.supportsTransition){var o,a,s=i.duration,c=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},a="transition";return o["-webkit-"+a]=o["-moz-"+a]=o["-o-"+a]=o[a]=n,t.css(o),t},h=function(){t.content.css("visibility","visible")};k("BuildControls"+n,function(){if(t._allowZoom()){if(clearTimeout(o),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void h();a=c(e),a.css(t._getOffset()),t.wrap.append(a),o=setTimeout(function(){a.css(t._getOffset(!0)),o=setTimeout(function(){h(),setTimeout(function(){a.remove(),e=a=null,C("ZoomAnimationEnded")},16)},s)},16)}}),k(l+n,function(){if(t._allowZoom()){if(clearTimeout(o),t.st.removalDelay=s,!e){if(e=t._getItemToZoom(),!e)return;a=c(e)}a.css(t._getOffset(!0)),t.wrap.append(a),t.content.css("visibility","hidden"),setTimeout(function(){a.css(t._getOffset())},16)}}),k(r+n,function(){t._allowZoom()&&(h(),a&&a.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return!!t.currItem.hasSize&&t.currItem.img},_getOffset:function(i){var n;n=i?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var o=n.offset(),a=parseInt(n.css("padding-top"),10),s=parseInt(n.css("padding-bottom"),10);o.top-=e(window).scrollTop()-a;var r={width:n.width(),height:(b?n.innerHeight():n[0].offsetHeight)-s-a};return D()?r["-moz-transform"]=r.transform="translate("+o.left+"px,"+o.top+"px)":(r.left=o.left,r.top=o.top),r}}});var N="iframe",q="//about:blank",U=function(e){if(t.currTemplate[N]){var i=t.currTemplate[N].find("iframe");i.length&&(e||(i[0].src=q),t.isIE8&&i.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(N,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(N),k("BeforeChange",function(e,t,i){t!==i&&(t===N?U():i===N&&U(!0))}),k(r+"."+N,function(){U()})},getIframe:function(i,n){var o=i.src,a=t.st.iframe;e.each(a.patterns,function(){return o.indexOf(this.index)>-1?(this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1):void 0});var s={};return a.srcAction&&(s[a.srcAction]=o),t._parseMarkup(n,s,i),t.updateStatus("ready"),n}}});var W=function(e){var i=t.items.length;return e>i-1?e-i:0>e?i+e:e},F=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=t.st.gallery,o=".mfp-gallery";return t.direction=!0,!(!i||!i.enabled)&&(a+=" mfp-gallery",k(p+o,function(){i.navigateByImgClick&&t.wrap.on("click"+o,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),n.on("keydown"+o,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),k("UpdateStatus"+o,function(e,i){i.text&&(i.text=F(i.text,t.currItem.index,t.items.length))}),k(d+o,function(e,n,o,a){var s=t.items.length;o.counter=s>1?F(i.tCounter,a.index,s):""}),k("BuildControls"+o,function(){if(t.items.length>1&&i.arrows&&!t.arrowLeft){var n=i.arrowMarkup,o=t.arrowLeft=e(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass($),a=t.arrowRight=e(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass($);o.click(function(){t.prev()}),a.click(function(){t.next()}),t.container.append(o.add(a))}}),k(u+o,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void k(r+o,function(){n.off(o),t.wrap.off("click"+o),t.arrowRight=t.arrowLeft=null}))},next:function(){t.direction=!0,t.index=W(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=W(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,i=t.st.gallery.preload,n=Math.min(i[0],t.items.length),o=Math.min(i[1],t.items.length);for(e=1;e<=(t.direction?o:n);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?n:o);e++)t._preloadItem(t.index-e)},_preloadItem:function(i){if(i=W(i),!t.items[i].preloaded){var n=t.items[i];n.parsed||(n=t.parseEl(i)),C("LazyLoad",n),"image"===n.type&&(n.img=e('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,C("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var Q="retina";e.magnificPopup.registerModule(Q,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,i=e.ratio;i=isNaN(i)?i():i,i>1&&(k("ImageHasSize."+Q,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})}),k("ElementParse."+Q,function(t,n){n.src=e.replaceSrc(n,i)}))}}}}),_()}),jQuery.extend({highlight:function(e,t,i,n){if(3===e.nodeType){var o=e.data.match(t);if(o){var a=document.createElement(i||"span");a.className=n||"highlight";var s=e.splitText(o.index);s.splitText(o[0].length);var r=s.cloneNode(!0);return a.appendChild(r),s.parentNode.replaceChild(a,s),1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&(e.tagName!==i.toUpperCase()||e.className!==n))for(var l=0;l<e.childNodes.length;l++)l+=jQuery.highlight(e.childNodes[l],t,i,n);return 0}}),jQuery.fn.unhighlight=function(e){var t={className:"highlight",element:"span"};return jQuery.extend(t,e),this.find(t.element+"."+t.className).each(function(){var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()},jQuery.fn.highlight=function(e,t){var i={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(jQuery.extend(i,t),e.constructor===String&&(e=[e]),e=jQuery.grep(e,function(e,t){return""!=e}),0==(e=jQuery.map(e,function(e,t){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).length)return this;var n=i.caseSensitive?"":"i",o="("+e.join("|")+")";i.wordsOnly&&(o="\\b"+o+"\\b");var a=new RegExp(o,n);return this.each(function(){jQuery.highlight(this,a,i.element,i.className)})},jQuery&&function(e){"use strict";function t(t,l,c){var h=e.Deferred();return r=document.activeElement,r.blur(),e(n).add(o).remove(),c=e.extend({},e.alertable.defaults,c),n=e(c.modal).hide(),o=e(c.overlay).hide(),a=e(c.okButton),s=e(c.cancelButton),c.html?n.find(".alertable-message").html(l):n.find(".alertable-message").text(l),"prompt"===t?n.find(".alertable-prompt").html(c.prompt):n.find(".alertable-prompt").remove(),e(n).find(".alertable-buttons").append("alert"===t?"":s).append(a),e(c.container).append(o).append(n),c.show.call({modal:n,overlay:o}),"prompt"===t?e(n).find(".alertable-prompt :input:first").focus():e(n).find(':input[type="submit"]').focus(),e(n).on("submit.alertable",function(o){var a,s,r=[];if(o.preventDefault(),"prompt"===t)for(s=e(n).serializeArray(),a=0;a<s.length;a++)r[s[a].name]=s[a].value;else r=null;i(c),h.resolve(r)}),s.on("click.alertable",function(){i(c),h.reject()}),e(document).on("keydown.alertable",function(e){27===e.keyCode&&(e.preventDefault(),i(c),h.reject())}),e(document).on("focus.alertable","*",function(t){e(t.target).parents().is(".alertable")||(t.stopPropagation(),t.target.blur(),e(n).find(":input:first").focus())}),h.promise()}function i(t){t.hide.call({modal:n,overlay:o}),e(document).off(".alertable"),n.off(".alertable"),s.off(".alertable"),r.focus()}var n,o,a,s,r;e.alertable={alert:function(e,i){return t("alert",e,i)},confirm:function(e,i){return t("confirm",e,i)},prompt:function(e,i){return t("prompt",e,i)},defaults:{container:"body",html:!1,cancelButton:'<button class="alertable-cancel" type="button">Abbrechen</button>',okButton:'<button class="alertable-ok" type="submit">OK</button>',overlay:'<div class="alertable-overlay"></div>',prompt:'<input class="alertable-input" type="text" name="value">',modal:'<form class="alertable"><div class="alertable-message"></div><div class="alertable-prompt"></div><div class="alertable-buttons"></div></form>',hide:function(){e(this.modal).add(this.overlay).fadeOut(100)},show:function(){e(this.modal).add(this.overlay).fadeIn(100)}}}}(jQuery),function(e,t){"use strict";var i;i=function(i){function n(e,t){return isNaN(e)?t||0:Number(e)}function o(e){return e.data("plugin_"+l)}function a(){for(var e=null,t=0;t<u.length;t++)(e=o(u[t]))&&e.hide(!0);v.trigger("hiddenAll."+h)}function s(e){var t={x:0,y:0};if("touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type){var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t.x=i.pageX,t.y=i.pageY}else"mousedown"!==e.type&&"mouseup"!==e.type&&"click"!==e.type||(t.x=e.pageX,t.y=e.pageY);return t}function r(e,t){return this.$element=i(e),t&&("string"!==i.type(t.delay)&&"number"!==i.type(t.delay)||(t.delay={show:t.delay,hide:t.delay})),this.options=i.extend({},d,t),this._defaults=d,this._name=l,this._targetclick=!1,this.init(),u.push(this.$element),this}var l="webuiPopover",c="webui-popover",h="webui.popover",d={placement:"auto",container:null,width:"auto",height:"auto",trigger:"click",style:"",selector:!1,delay:{show:null,hide:300},async:{type:"GET",before:null,success:null,error:null},cache:!0,global:!0,multi:!1,arrow:!0,title:"",content:"",closeable:!1,padding:!0,url:"",type:"html",direction:"",animation:null,template:'<div class="webui-popover"><div class="webui-arrow"></div><div class="webui-popover-inner"><a href="#" class="close"></a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>',backdrop:!1,dismissible:!0,onShow:null,onHide:null,abortXHR:!0,autoHide:!1,offsetTop:0,offsetLeft:0,iframeOptions:{frameborder:"0",allowtransparency:"true",id:"",name:"",scrolling:"",onload:"",height:"",width:""},hideEmpty:!1},p=c+"-rtl",u=[],f=i('<div class="webui-popover-backdrop"></div>'),g=0,m=-2e3,v=i(t),$="ontouchstart"in t.documentElement&&/Mobi/.test(navigator.userAgent);r.prototype={init:function(){if(this.$element[0]instanceof t.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");"manual"!==this.getTrigger()&&($?this.$element.off("touchend",this.options.selector).on("touchend",this.options.selector,i.proxy(this.toggle,this)):"click"===this.getTrigger()?this.$element.off("click",this.options.selector).on("click",this.options.selector,i.proxy(this.toggle,this)):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave click",this.options.selector).on("mouseenter",this.options.selector,i.proxy(this.mouseenterHandler,this)).on("mouseleave",this.options.selector,i.proxy(this.mouseleaveHandler,this))),this._poped=!1,this._inited=!0,this._opened=!1,this._idSeed=g,this.id=l+this._idSeed,this.options.container=i(this.options.container||t.body).first(),this.options.backdrop&&f.appendTo(this.options.container).hide(),g++,"sticky"===this.getTrigger()&&this.show(),this.options.selector&&(this._options=i.extend({},this.options,{selector:""}))},destroy:function(){for(var e=-1,t=0;t<u.length;t++)if(u[t]===this.$element){e=t;break}u.splice(e,1),this.hide(),this.$element.data("plugin_"+l,null),"click"===this.getTrigger()?this.$element.off("click"):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave"),this.$target&&this.$target.remove()},getDelegateOptions:function(){var e={};return this._options&&i.each(this._options,function(t,i){d[t]!==i&&(e[t]=i)}),e},hide:function(e,t){if((e||"sticky"!==this.getTrigger())&&this._opened){t&&(t.preventDefault(),t.stopPropagation()),this.xhr&&!0===this.options.abortXHR&&(this.xhr.abort(),this.xhr=null);var n=i.Event("hide."+h);if(this.$element.trigger(n,[this.$target]),this.$target){this.$target.removeClass("in").addClass(this.getHideAnimation());var o=this;setTimeout(function(){o.$target.hide(),o.getCache()||o.$target.remove()},o.getHideDelay())}this.options.backdrop&&f.hide(),this._opened=!1,this.$element.trigger("hidden."+h,[this.$target]),this.options.onHide&&this.options.onHide(this.$target,this.getTriggerElement())}},resetAutoHide:function(){var e=this,t=e.getAutoHide();t&&(e.autoHideHandler&&clearTimeout(e.autoHideHandler),e.autoHideHandler=setTimeout(function(){e.hide()},t))},delegate:function(e){var t=i(e).data("plugin_"+l);return t||(t=new r(e,this.getDelegateOptions()),i(e).data("plugin_"+l,t)),t},toggle:function(e){var t=this;e&&(e.preventDefault(),e.stopPropagation(),this.options.selector&&(t=this.delegate(e.currentTarget))),t[t.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){a()},hideOthers:function(){!function(e){for(var t=null,i=0;i<u.length;i++)(t=o(u[i]))&&t.id!==e.id&&t.hide(!0);v.trigger("hiddenAll."+h)}(this)},show:function(){if(!this._opened){var e=this.getTarget().removeClass().addClass(c).addClass(this._customTargetClass);if(this.options.multi||this.hideOthers(),!this.getCache()||!this._poped||""===this.content){if(this.content="",this.setTitle(this.getTitle()),this.options.closeable||e.find(".close").off("click").remove(),this.isAsync()?this.setContentASync(this.options.content):this.setContent(this.getContent()),this.canEmptyHide()&&""===this.content)return;e.show()}this.displayContent(),this.options.onShow&&this.options.onShow(e,this.getTriggerElement()),this.bindBodyEvents(),this.options.backdrop&&f.show(),this._opened=!0,this.resetAutoHide()}},displayContent:function(){function t(){o=w.getElementPosition(),v=w.getTargetPosition(o,n,r,l),w.$target.css(v.position).addClass(n)}var n,o=this.getElementPosition(),a=this.getTarget().removeClass().addClass(c).addClass(this._customTargetClass),s=this.getContentElement(),r=a[0].offsetWidth,l=a[0].offsetHeight,d=i.Event("show."+h);if(this.canEmptyHide()){var u=s.children().html();if(null!==u&&0===u.trim().length)return}this.$element.trigger(d,[a]);var f=this.$element.data("width")||this.options.width;""===f&&(f=this._defaults.width),"auto"!==f&&a.width(f);var g=this.$element.data("height")||this.options.height;""===g&&(g=this._defaults.height),"auto"!==g&&s.height(g),this.options.style&&this.$target.addClass(c+"-"+this.options.style),"rtl"!==this.options.direction||s.hasClass(p)||s.addClass(p),this.options.arrow||a.find(".webui-arrow").remove(),a.detach().css({top:m,left:m,display:"block"}),this.getAnimation()&&a.addClass(this.getAnimation()),a.appendTo(this.options.container),n=this.getPlacement(o),this.$element.trigger("added."+h),this.initTargetEvents(),this.options.padding||("auto"!==this.options.height&&s.css("height",s.outerHeight()),this.$target.addClass("webui-no-padding")),this.options.maxHeight&&s.css("maxHeight",this.options.maxHeight),this.options.maxWidth&&s.css("maxWidth",this.options.maxWidth),r=a[0].offsetWidth,l=a[0].offsetHeight;var v=this.getTargetPosition(o,n,r,l);this.$target.css(v.position).addClass(n).addClass("in");var $,w=this;if(i(e).on("resize",function(){clearTimeout($),$=setTimeout(t,100)}),"iframe"===this.options.type){var b=a.find("iframe"),y=a.width(),k=b.parent().height();""!==this.options.iframeOptions.width&&"auto"!==this.options.iframeOptions.width&&(y=this.options.iframeOptions.width),""!==this.options.iframeOptions.height&&"auto"!==this.options.iframeOptions.height&&(k=this.options.iframeOptions.height),b.width(y).height(k)}if(this.options.arrow||this.$target.css({margin:0}),this.options.arrow){var x=this.$target.find(".webui-arrow");x.removeAttr("style"),"left"===n||"right"===n?x.css({top:this.$target.height()/2}):"top"!==n&&"bottom"!==n||x.css({left:this.$target.width()/2}),v.arrowOffset&&(-1===v.arrowOffset.left||-1===v.arrowOffset.top?x.hide():x.css(v.arrowOffset))}this._poped=!0,this.$element.trigger("shown."+h,[this.$target])},isTargetLoaded:function(){return 0===this.getTarget().find("i.glyphicon-refresh").length},getTriggerElement:function(){return this.$element},getTarget:function(){if(!this.$target){var e=l+this._idSeed;this.$target=i(this.options.template).attr("id",e),this._customTargetClass=this.$target.attr("class")!==c?this.$target.attr("class"):null,this.getTriggerElement().attr("data-target",e)}return this.$target.data("trigger-element")||this.$target.data("trigger-element",this.getTriggerElement()),this.$target},removeTarget:function(){this.$target.remove(),this.$target=null,this.$contentElement=null},getTitleElement:function(){return this.getTarget().find("."+c+"-title")},getContentElement:function(){return this.$contentElement||(this.$contentElement=this.getTarget().find("."+c+"-content")),this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){return n(this.$element.attr("data-offset-top"))||this.options.offsetTop},getOffsetLeft:function(){return n(this.$element.attr("data-offset-left"))||this.options.offsetLeft},getCache:function(){var e=this.$element.attr("data-cache");if(void 0!==e)switch(e.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1}return this.options.cache},getGlobal:function(){return this.$element.attr("data-global")||this.options.global},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var e=this.$element.attr("data-delay-show");return void 0!==e?e:0===this.options.delay.show?0:this.options.delay.show||100},getHideDelay:function(){var e=this.$element.attr("data-delay-hide");return void 0!==e?e:0===this.options.delay.hide?0:this.options.delay.hide||100},getAnimation:function(){return this.$element.attr("data-animation")||this.options.animation},getHideAnimation:function(){var e=this.getAnimation();return e?e+"-out":"out"},setTitle:function(e){var t=this.getTitleElement();e?("rtl"!==this.options.direction||t.hasClass(p)||t.addClass(p),t.html(e)):t.remove()},hasContent:function(){return this.getContent()},canEmptyHide:function(){return this.options.hideEmpty&&"html"===this.options.type},getIframe:function(){
var e=i("<iframe></iframe>").attr("src",this.getUrl()),t=this;return i.each(this._defaults.iframeOptions,function(i){void 0!==t.options.iframeOptions[i]&&e.attr(i,t.options.iframeOptions[i])}),e},getContent:function(){if(this.getUrl())switch(this.options.type){case"iframe":this.content=this.getIframe();break;case"html":try{this.content=i(this.getUrl()),this.content.is(":visible")||this.content.show()}catch(e){throw new Error("Unable to get popover content. Invalid selector specified.")}}else if(!this.content){var e="";if(e=i.isFunction(this.options.content)?this.options.content.apply(this.$element[0],[this]):this.options.content,this.content=this.$element.attr("data-content")||e,!this.content){var t=this.$element.next();t&&t.hasClass(c+"-content")&&(this.content=t)}}return this.content},setContent:function(e){var t=this.getTarget(),n=this.getContentElement();"string"==typeof e?n.html(e):e instanceof i&&(n.html(""),this.options.cache?e.removeClass(c+"-content").appendTo(n):e.clone(!0,!0).removeClass(c+"-content").appendTo(n)),this.$target=t},isAsync:function(){return"async"===this.options.type},setContentASync:function(e){var t=this;this.xhr||(this.xhr=i.ajax({url:this.getUrl(),type:this.options.async.type,cache:this.getCache(),global:this.getGlobal(),beforeSend:function(e,i){t.options.async.before&&t.options.async.before(t,e,i)},success:function(n){t.bindBodyEvents(),e&&i.isFunction(e)?t.content=e.apply(t.$element[0],[n]):t.content=n,t.setContent(t.content),t.getContentElement().removeAttr("style"),t.displayContent(),t.options.async.success&&t.options.async.success(t,n)},complete:function(){t.xhr=null},error:function(e,i){t.options.async.error&&t.options.async.error(t,e,i)}}))},bindBodyEvents:function(){this.options.dismissible&&"click"===this.getTrigger()?$?v.off("touchstart.webui-popover").on("touchstart.webui-popover",i.proxy(this.bodyTouchStartHandler,this)):(v.off("keyup.webui-popover"+this._idSeed).on("keyup.webui-popover"+this._idSeed,i.proxy(this.escapeHandler,this)),v.off("click.webui-popover"+this._idSeed).on("click.webui-popover"+this._idSeed,i.proxy(this.bodyClickHandler,this))):"hover"===this.getTrigger()&&v.off("touchend.webui-popover"+this._idSeed).on("touchend.webui-popover"+this._idSeed,i.proxy(this.bodyClickHandler,this))},mouseenterHandler:function(e){var t=this;e&&this.options.selector&&(t=this.delegate(e.currentTarget)),t._timeout&&clearTimeout(t._timeout),t._enterTimeout=setTimeout(function(){t.getTarget().is(":visible")||t.show()},this.getDelayShow())},mouseleaveHandler:function(){var e=this;clearTimeout(e._enterTimeout),e._timeout=setTimeout(function(){e.hide()},this.getHideDelay())},escapeHandler:function(e){27===e.keyCode&&this.hide()},bodyTouchStartHandler:function(e){var t=this,n=i(e.currentTarget);n.on("touchend",function(e){t.bodyClickHandler(e),n.off("touchend")}),n.on("touchmove",function(){n.off("touchend")})},bodyClickHandler:function(e){for(var t=!0,i=0;i<u.length;i++){var n=o(u[i]);if(n&&n._opened){var a=n.getTarget().offset(),r=a.left,l=a.top,c=a.left+n.getTarget().width(),h=a.top+n.getTarget().height(),d=s(e);if(d.x>=r&&d.x<=c&&d.y>=l&&d.y<=h||0===d.x&&0===d.y||"OPTION"===event.target.nodeName){t=!1;break}}}t&&this.hide()},initTargetEvents:function(){"hover"===this.getTrigger()&&this.$target.off("mouseenter mouseleave").on("mouseenter",i.proxy(this.mouseenterHandler,this)).on("mouseleave",i.proxy(this.mouseleaveHandler,this)),this.$target.find(".close").off("click").on("click",i.proxy(this.hide,this,!0))},getPlacement:function(t){var n,o=this.options.container,a=o.innerWidth(),s=o.innerHeight(),r=i(e).height(),l=i(e).scrollTop(),c=o.scrollTop(),h=o.scrollLeft(),d=Math.max(0,t.left-h),p=Math.max(0,t.top-c),u="horizontal"===(n="function"==typeof this.options.placement?this.options.placement.call(this,this.getTarget()[0],this.$element[0]):this.$element.data("placement")||this.options.placement),f="vertical"===n;return"auto"===n||u||f?(n=d<a/3?p<s/3?u?"right-bottom":"bottom-right":p<2*s/3?f?p<=s/2?"bottom-right":"top-right":"right":u?"right-top":"top-right":d<2*a/3?p<s/3?u?d<=a/2?"right-bottom":"left-bottom":"bottom":p<2*s/3?u?d<=a/2?"right":"left":p<=s/2?"bottom":"top":u?d<=a/2?"right-top":"left-top":"top":p<s/3?u?"left-bottom":"bottom-left":p<2*s/3?f?p<=s/2?"bottom-left":"top-left":"left":u?"left-top":"top-left",f&&(n=t.top-l>r/3*2?n.replace("bottom","top"):n.replace("top","bottom"))):"auto-top"===n?n=d<a/3?"top-right":d<2*a/3?"top":"top-left":"auto-bottom"===n?n=d<a/3?"bottom-right":d<2*a/3?"bottom":"bottom-left":"auto-left"===n?n=p<s/3?"left-top":p<2*s/3?"left":"left-bottom":"auto-right"===n&&(n=p<s/3?"right-bottom":p<2*s/3?"right":"right-top"),n},getElementPosition:function(){var e=this.$element[0].getBoundingClientRect(),n=this.options.container,o=n.css("position");if(n.is(t.body)||"static"===o)return i.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth||e.width,height:this.$element[0].offsetHeight||e.height});if("fixed"!==o&&"absolute"!==o)return"relative"===o?{top:this.$element.offset().top-n.offset().top,left:this.$element.offset().left-n.offset().left,width:this.$element[0].offsetWidth||e.width,height:this.$element[0].offsetHeight||e.height}:void 0;var a=n[0].getBoundingClientRect();return{top:e.top-a.top+n.scrollTop(),left:e.left-a.left+n.scrollLeft(),width:e.width,height:e.height}},getTargetPosition:function(e,i,n,o){var a=e,s=this.options.container,r=this.$element.outerWidth(),l=this.$element.outerHeight(),c=t.documentElement.scrollTop+s.scrollTop(),h=t.documentElement.scrollLeft+s.scrollLeft(),d={},p=null,u=this.options.arrow?20:0,f=r<10+u?u:0,g=l<10+u?u:0,v=0,$=t.documentElement.clientHeight+c,w=t.documentElement.clientWidth+h,b=0<a.left+a.width/2-f,y=a.left+a.width/2+f<w,k=0<a.top+a.height/2-g,x=a.top+a.height/2+g<$;switch(i){case"bottom":d={top:a.top+a.height,left:a.left+a.width/2-n/2};break;case"top":d={top:a.top-o,left:a.left+a.width/2-n/2};break;case"left":d={top:a.top+a.height/2-o/2,left:a.left-n};break;case"right":d={top:a.top+a.height/2-o/2,left:a.left+a.width};break;case"top-right":d={top:a.top-o,left:b?a.left-f:10},p={left:b?Math.min(r,n)/2+f:m};break;case"top-left":v=y?f:-10,d={top:a.top-o,left:a.left-n+a.width+v},p={left:y?n-Math.min(r,n)/2-f:m};break;case"bottom-right":d={top:a.top+a.height,left:b?a.left-f:10},p={left:b?Math.min(r,n)/2+f:m};break;case"bottom-left":v=y?f:-10,d={top:a.top+a.height,left:a.left-n+a.width+v},p={left:y?n-Math.min(r,n)/2-f:m};break;case"right-top":v=x?g:-10,d={top:a.top-o+a.height+v,left:a.left+a.width},p={top:x?o-Math.min(l,o)/2-g:m};break;case"right-bottom":d={top:k?a.top-g:10,left:a.left+a.width},p={top:k?Math.min(l,o)/2+g:m};break;case"left-top":v=x?g:-10,d={top:a.top-o+a.height+v,left:a.left-n},p={top:x?o-Math.min(l,o)/2-g:m};break;case"left-bottom":d={top:k?a.top-g:10,left:a.left-n},p={top:k?Math.min(l,o)/2+g:m}}return d.top+=this.getOffsetTop(),d.left+=this.getOffsetLeft(),{position:d,arrowOffset:p}}},i.fn[l]=function(e,t){var n=[],o=this.each(function(){var o=i.data(this,"plugin_"+l);o?"destroy"===e?o.destroy():"string"==typeof e&&n.push(o[e]()):(e?"string"==typeof e?"destroy"!==e&&(t||(o=new r(this,null),n.push(o[e]()))):"object"==typeof e&&(o=new r(this,e)):o=new r(this,null),i.data(this,"plugin_"+l,o))});return n.length?n:o};var w={show:function(e,t){t?i(e).webuiPopover(t).webuiPopover("show"):i(e).webuiPopover("show")},hide:function(e){i(e).webuiPopover("hide")},create:function(e,t){t=t||{},i(e).webuiPopover(t)},isCreated:function(e){var t=!0;return i(e).each(function(e,n){t=t&&void 0!==i(n).data("plugin_"+l)}),t},hideAll:function(){a()},updateContent:function(e,t){var n=i(e).data("plugin_"+l);if(n){var o=n.getCache();n.options.cache=!1,n.options.content=t,n._opened?(n._opened=!1,n.show()):n.isAsync()?n.setContentASync(t):n.setContent(t),n.options.cache=o}},updateContentAsync:function(e,t){var n=i(e).data("plugin_"+l);if(n){var o=n.getCache(),a=n.options.type;n.options.cache=!1,n.options.url=t,n._opened?(n._opened=!1,n.show()):(n.options.type="async",n.setContentASync(n.content)),n.options.cache=o,n.options.type=a}},setDefaultOptions:function(e){d=i.extend({},d,e)}};e.WebuiPopovers=w},"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):i(e.jQuery)}(window,document),function(e,t,i,n){e.fn.quicksearch=function(i,n){var o,a,s,r,l="",c=this,h=e.extend({delay:100,selector:null,stripeRows:null,loader:null,noResults:"",bind:"keyup",onBefore:function(){},onAfter:function(){},show:function(){this.style.display=""},hide:function(){this.style.display="none"},prepareQuery:function(e){return e.toLowerCase().split(" ")},testQuery:function(e,t,i){for(var n=0;n<e.length;n+=1)if(-1===t.indexOf(e[n]))return!1;return!0}},n);return this.go=function(){for(var e=0,t=!0,i=h.prepareQuery(l),n=0===l.replace(" ","").length,o=(e=0,s.length);e<o;e++)n||h.testQuery(i,a[e],s[e])?(h.show.apply(s[e]),t=!1):h.hide.apply(s[e]);return t?this.results(!1):(this.results(!0),this.stripe()),this.loader(!1),h.onAfter(),this},this.stripe=function(){if("object"==typeof h.stripeRows&&null!==h.stripeRows){var t=h.stripeRows.join(" "),i=h.stripeRows.length;r.not(":hidden").each(function(n){e(this).removeClass(t).addClass(h.stripeRows[n%i])})}return this},this.strip_html=function(t){var i=t.replace(new RegExp("<[^<]+>","g"),"");return i=e.trim(i.toLowerCase()),i},this.results=function(t){return"string"==typeof h.noResults&&""!==h.noResults&&(t?e(h.noResults).hide():e(h.noResults).show()),this},this.loader=function(t){return"string"==typeof h.loader&&""!==h.loader&&(t?e(h.loader).show():e(h.loader).hide()),this},this.cache=function(){r=e(i),"string"==typeof h.noResults&&""!==h.noResults&&(r=r.not(h.noResults));var t="string"==typeof h.selector?r.find(h.selector):e(i).not(h.noResults);return a=t.map(function(){return c.strip_html(this.innerHTML)}),s=r.map(function(){return this}),this.go()},this.trigger=function(){return this.loader(!0),h.onBefore(),t.clearTimeout(o),o=t.setTimeout(function(){c.go()},h.delay),this},this.cache(),this.results(!0),this.stripe(),this.loader(!1),this.each(function(){e(this).bind(h.bind,function(){l=e(this).val(),c.trigger()})})}}(jQuery,this,document);